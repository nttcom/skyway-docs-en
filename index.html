<html>
<head>
    <title>SkyWay Documents</title>
    <meta charset="UTF-8" />
    <meta property="og:locale" content="ja_JP" />
    <meta name="viewport" content="width=device-width, maximum-scale=1">
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,900' rel='stylesheet' type='text/css'>
    <link href="./style.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript" src="./index.js"></script>
</head>

<body>
<div id="tab-controll">
  <ul id="tab">
  <li><a href="#JS" class="active">JavaScript</a></li>
  <li><a href="#iOS">iOS</a></li>
  <li><a href="#Android">Android</a></li>
  </ul>
</div>
<div id="tab-content"><div id="JS">
  <section class="start">
    <h1><a href="/">PeerJS</a> <span class="title">docs</span><span class="title skyway">SkyWay Version</span></h1>
    <p><br>PeerJS simplifies peer-to-peer data, video, and audio calls.</p>
      <p>This guide will show you the basic concepts of the PeerJS API. If
      you learn better from seeing a working app, <a href="https://github.com/nttcom/peerjs/tree/master/examples">see the examples</a> at the bottom of the page.</P>
      <p>This document is for NTT Communication's cloud service <a href="https://nttcom.github.io/skyway/en/">"SkyWay"</a>, a customized version of PeerJS.</p>
      <h2>Setup</h2>
      <h3>1. Include the Javascript client</h3>
      <p>Add the PeerJS client library to your webpage.</p>
      <pre>&lt;script src="https://skyway.io/dist/0.3/peer.min.js"&gt;&lt;/script&gt;</pre>
      <p>If you prefer, you can host it yourself: <a download
        href="https://skyway.io/dist/0.3/peer.js">peer.js</a>, <a download
      href="https://skyway.io/dist/0.3/peer.min.js">peer.min.js</a>, or <a
      href="https://github.com/nttcom/peerjs">fork us on Github</a>.</p>
      <h3>2. Create the Peer object</h3>
      <p>The Peer object is where we create and receive connections.</p>
      <pre>var peer = new Peer({key: 'APIKEY'});</pre>
      <p>You can <a
      href="https://nttcom.github.io/skyway/en/registration.html">sign up for your own free key</a>.
    PeerJS uses PeerServer for session metadata and candidate signaling. You can
    also <a href="http://github.com/peers/peerjs-server">run your own PeerServer</a> if you don't like the cloud.</p>
      <p>We're now ready to start making connections!</p>

      <h2>Usage</h2>
      <p>Every Peer object is assigned a random, unique ID when it's created.</p>
      <pre>peer.on('open', function(id) {
  console.log('My peer ID is: ' + id);
});</pre>
      <p>When we want to connect to another peer, we'll need to know their peer
      id. You're in charge of communicating the peer IDs between users of your
      site. Optionally, you can pass in your own IDs to the <a href="#peer"><code>Peer</code>
        constructor</a>.</p>

      <p>Read the <a href="#peer">Peer API reference</a> for complete
      information on its <a href="#peer-options">options</a>, methods, <a href="#peeron">events</a>, and <a
        href="#peeron-error">error handling</a>.</p>

      <h3>Data connections</h3>
      <p>Start a data connection by calling <code>peer.connect</code> with the peer ID of the
      destination peer. Anytime another peer attempts to connect to your peer
      ID, you'll receive a <code>connection</code> event. </p>
      <div class="two-col">
        <div class="col col-header">Start connection</div>
        <div class="col col-header">Receive connection</div>
        <div class="col"><pre>var conn = peer.connect('dest-peer-id');</pre></div>
        <div class="col"><pre>peer.on('connection', function(conn) { ... });</pre></div>
        <div class="clear"></div>
      </div>
      <p><code>peer.connect</code> and the callback of the
      <code>connection</code> event will both provide a
      <code>DataConnection</code> object. This object will allow you to send and receive data:</p>
      <pre>conn.on('open', function() {
  // Receive messages
  conn.on('data', function(data) {
    console.log('Received', data);
  });

  // Send messages
  conn.send('Hello!');
});</pre>
      <p>Read the <a href="#dataconnection">DataConnection API reference</a> for complete details on its methods and events.</p>
      <h3>Video/audio calls</h3>
      <p>Call another peer by calling <code>peer.call</code> with the peer ID of the destination
      peer. When a peer calls you, the <code>call</code> event is emitted.</p>
      <p>Unlike data connections, when receiving a <code>call</code> event, the call must be answered or no connection is established.</p>
      <div class="two-col">
        <div class="col col-header">Start call</div>
        <div class="col col-header">Answer call</div>
        <div class="col"><pre>// Call a peer, providing our mediaStream
var call = peer.call('dest-peer-id',
  mediaStream);

</pre></div>
        <div class="col"><pre>peer.on('call', function(call) {
  // Answer the call, providing our mediaStream
  call.answer(mediaStream);
});</pre></div>
        <div class="clear"></div>
      </div>
      <p>When calling or answering a call, a MediaStream should be provided. The
      MediaStream represents the local video (webcam) or audio stream and can be
      obtained with some (browser-specific) version of <a
        href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator.getUserMedia"><code>navigator.getUserMedia</code></a>. When answering a
      call, the MediaStream is optional and if none is provided then a one-way
      call is established. Once the call is established, its <code>open</code> property is
      set to true.</p>
      <p><code>peer.call</code> and the callback of the <code>call</code> event
      provide a MediaConnection object. The MediaConnection object itself emits
      a <code>stream</code> event whose callback includes the video/audio stream of the other peer.</p>
      <pre>call.on('stream', function(stream) {
  // `stream` is the MediaStream of the remote peer.
  // Here you'd add it to an HTML video/canvas element.
});</pre>
      <p>Read the <a href="#mediaconnection">MediaConnection API reference</a> for complete details on its methods and events.</p>

      <h2>SkyWay Rest API</h2>
      <h3>listAllPeers()<APIKEY></h3>
      <p>Gets a list of active PeerID's connecting with the API key.</p>
      <pre>peer.listAllPeers(function(list){
      // e.g. Add retrieved Peer ID list to userList array.
    for(var cnt = 0;cnt < list.length;cnt++){
        userList.push(list[cnt]);
    }
});
</pre>
      <p>The SkyWay Rest API can only be accessed from the domain registered with the API key.</p>

      <h2>Common questions</h2>

        <h3>What kind of data can I send?</h3>

        <p>PeerJS has the <a
          href="https://github.com/binaryjs/js-binarypack">BinaryPack</a>
        serialization format built-in. This means you can send any JSON type as
        well as binary Blobs and ArrayBuffers. Simply send arbitrary data and
        you'll get it out the
        other side:</p>
          <pre>
conn.send({
  strings: 'hi!',
  numbers: 150,
  arrays: [1,2,3],
  evenBinary: new Blob([1,2,3]),
  andMore: {bool: true}
});</pre>
<p>Depending on the value of serialization, the data that can be sent between each of the platforms (JavaScript, iOS, and Android) changes. See <a href='http://nttcom.github.io/skyway/docs/serialization.md'>this chart</a> for details.</p>

        <h3>Are there any caveats?</h3>

          <p>A small percentage of users are behind symmetric NATs. When two
          symmetric NAT users try to connect to each other, NAT traversal is
        impossible and no connection can be made. A workaround is to proxy
      through the connection through a TURN server. You'll have to find your own. If you wish to use SkyWay's TURN server, you can apply <a href='https://skyway.io/ds/turnrequest' target='_blank'>here</a>. You can pass a TURN
  server into the <code>Peer</code> object options. This will allow your PeerJS app to work seamlessly for this situation.</p>
        <h3>How do I use a TURN server?</h3>
        <p>When creating your Peer object, pass in the ICE servers as the config key of the options hash.</p>
<pre>
var peer = new Peer({
  config: {'iceServers': [
    { url: 'stun:stun.skyway.io.com:3478' },
    { url: 'turn:homeo@turn.bistri.com:80', credential: 'homeo' }
  ]} /* Sample servers, please use appropriate ones */
});
</pre>
      <p>This option doesn't need to be set if you're using SkyWay's TURN server.</p>
        <h3>What is the current state of browser compatibility?</h3>

          <p>We keep an frequently-updated catalogue of WebRTC compatibility
          information and caveats <a href="/status">here</a>.</p>

        <h3>What if my peer has not yet connected to the server when I attempt
          to connect to it?</h3>

          <p>When you try to connect to a peer, PeerServer will hold a
          connection offer for up to 5 seconds before rejecting it. This is useful if you want to reconnect to a peer as it disconnects and reconnects rapidly between web pages.</p>

        <h3>Why am I unable to connect?</h3>
          <p>You could be behind a symmetric NAT, in which case you'll need to set up a TURN server.</p>

        <h3>What about latency/bandwidth?</h3>

          <p>Data sent between the two peers do not touch any other servers except for use of turn server, so the connection speed is limited only by the upload and download rates of the two peers. This also means you don't have the additional latency of an intermediary server.</p>
          <p>The latency to establish a connection can be split into two
          components:
          the brokering of data and the identification of clients. PeerJS has been
          designed to minimize the time you spend in these two areas. For
          brokering, data is sent through an XHR streaming request before a WebSocket
          connection is established, then through WebSockets. For client
          identification, we provide you the ability to pass in your own peer
          IDs, thus eliminating the RTT for retrieving an ID from the server.</p>

        <h3>More questions?</h3>
      <p><a href="https://groups.google.com/forum/#!forum/skywayjs">Discuss SkyWay on SkyWay Technical Forum Google Group.</a></p>
      <p><a href="https://groups.google.com/forum/?fromgroups#!forum/peerjs">Discuss PeerJS on PeerJS Google Group.</a></p>
        <h3>Disclaimer</h3>
          <p>This document is based on <a href="http://peerjs.com/docs/">http://peerjs.com/docs/</a> and provides additional information necessary to use NTT Communication's SkyWay service. We cannot respond to inquiries regarding the original document.<br><br></p>

        </section>

        <header class="left">
            <h2>API Reference<a class="hide icon">&laquo;</a><a class="show icon">&raquo;</a></h2>
        </header>
        <header class="right">
            <h2>Getting Started</h2>
        </header>

        <section class="api">
            <div class="toplevel " id="peer"><span class="name"><a href="#peer">Peer</a><span class="tag type constructor">constructor</span><span class="snippet">var peer = new Peer([id], [options]);</span></span><p class="description">A peer can connect to other peers and listen for connections.</p><div class="children"><div class="child " id="peer-id"><span class="name"><a href="#peer-id"><span class="optional"><span class="bracket">[</span>id<span class="bracket">]</span></span></a><span class="tag type string">string</span></span><p class="description">Other peers can connect to this peer using the provided ID. If no ID is given, one will be generated by the brokering server.<span class='warn'>It's not recommended that you use this ID to identify peers, as it's meant to be used for brokering connections only. You're recommended to set the <a href='#peerconnect-options'><code>metadata</code></a> option to send other identifying information.</span></p></div><div class="child " id="peer-options"><span class="name"><a href="#peer-options"><span class="optional"><span class="bracket">[</span>options<span class="bracket">]</span></span></a><span class="tag type object">object</span></span><div class="children"><div class="child " id="peer-options-key"><span class="name"><a href="#peer-options-key">key</a><span class="tag type string">string</span></span><p class="description">API key for the cloud PeerServer. This is not used for servers other than <code>skyway.io</code>.<span class='warn'>SkyWay cloud runs on port 443. Please ensure it is not blocked.</span></p></div><div class="child " id="peer-options-host"><span class="name"><a href="#peer-options-host">host</a><span class="tag type string">string</span></span><p class="description">Server host. Defaults to <code>skyway.io</code>. Also accepts <code>'/'</code> to signify relative hostname.</p></div><div class="child " id="peer-options-port"><span class="name"><a href="#peer-options-port">port</a><span class="tag type number">number</span></span><p class="description">Server port. Defaults to <code>443</code>.</p></div><div class="child beta_030 " id="peer-options-secure"><span class="name"><a href="#peer-options-secure">secure</a><span class="tag type boolean">boolean</span><span class="tag beta_030">beta (0.3.0)</span></span><p class="description"><code>true</code> if you're using SSL. Defaults to true since skyway.io uses SSL.</p></div><div class="child skyway " id="peer-options-turn"><span class="name"><a href="#peer-options-turn">turn</a><span class="tag type boolean">boolean</span><span class="tag skyway">skyway</span></span><p class="description"><code>true</code> if you're using SkyWay's TURN server. Defaults to <code>true</code>. You must apply <a href=https://skyway.io/ds/turnrequest target=_blank>here</a> to use this feature.</p></div><div class="child " id="peer-options-config"><span class="name"><a href="#peer-options-config">config</a><span class="tag type object">object</span></span><p class="description">Configuration hash passed to RTCPeerConnection. This hash contains any custom ICE/TURN server configuration. Defaults to <code>{ 'iceServers': [{ 'url': 'stun:stun.skyway.io:3478' }] }</code>. It is not necessary to set iceServers if you're using SkyWay's TURN server.</p></div><div class="child beta_030 " id="peer-options-debug"><span class="name"><a href="#peer-options-debug">debug</a><span class="tag type number">number</span><span class="tag beta_030">beta (0.3.0)</span></span><p class="description">Prints log messages depending on the debug level passed in. Defaults to <code>0</code>.</p><div class="children"><div class="child " id="peer-options-debug-0"><span class="name"><a href="#peer-options-debug-0">0</a></span><p class="description">Prints no logs.</p></div><div class="child " id="peer-options-debug-1"><span class="name"><a href="#peer-options-debug-1">1</a></span><p class="description">Prints only errors.</p></div><div class="child " id="peer-options-debug-2"><span class="name"><a href="#peer-options-debug-2">2</a></span><p class="description">Prints errors and warnings.</p></div><div class="child " id="peer-options-debug-3"><span class="name"><a href="#peer-options-debug-3">3</a></span><p class="description">Prints all logs.</p></div></div></div></div></div></div></div><div class="toplevel " id="peerconnect"><span class="name"><a href="#peerconnect">peer.connect</a><span class="tag type method">method</span><span class="snippet">var <a href='#dataconnection'>dataConnection</a> = peer.connect(id, [options]);</span></span><p class="description">Connects to the remote peer specified by <code>id</code> and returns a data connection. Be sure to listen on the <a href='#peeron-error'><code>error</code></a> event in case the connection fails.</p><div class="children"><div class="child " id="peerconnect-id"><span class="name"><a href="#peerconnect-id">id</a><span class="tag type string">string</span></span><p class="description">The brokering ID of the remote peer (their <a href='#peerid'><code>peer.id</code></a>).</p></div><div class="child " id="peerconnect-options"><span class="name"><a href="#peerconnect-options"><span class="optional"><span class="bracket">[</span>options<span class="bracket">]</span></span></a><span class="tag type object">object</span></span><div class="children"><div class="child " id="peerconnect-options-label"><span class="name"><a href="#peerconnect-options-label">label</a><span class="tag type string">string</span></span><p class="description">A unique label by which you want to identify this data connection. If left unspecified, a label will be generated at random. Can be accessed with <a href='#dataconnection-label'><code>dataConnection.label</code></a>.</p></div><div class="child " id="peerconnect-options-metadata"><span class="name"><a href="#peerconnect-options-metadata">metadata</a></span><p class="description">Metadata associated with the connection, passed in by whoever initiated the connection. Can be accessed with <a href='#dataconnection-metadata'><code>dataConnection.metadata</code></a>. Can be any serializable type.</p></div><div class="child " id="peerconnect-options-serialization"><span class="name"><a href="#peerconnect-options-serialization">serialization</a><span class="tag type string">string</span></span><p class="description">Can be <code>binary</code> (default), <code>binary-utf8</code>, <code>json</code>, or <code>none</code>. Can be accessed with <a href='#dataconnection-serialization'><code>dataConnection.serialization</code></a>.<span class='tip'><code>binary-utf8</code> will take a performance hit because of the way UTF8 strings are packed into binary format.</span></p></div><div class="child " id="peerconnect-options-reliable"><span class="name"><a href="#peerconnect-options-reliable">reliable</a><span class="tag type boolean">boolean</span></span><p class="description">Whether the underlying data channels should be reliable (e.g. for large file transfers) or not (e.g. for gaming or streaming). Defaults to <code>false</code>.<span class='warn'>Setting reliable to true will use a shim for incompatible browsers (Chrome 30 and below only) and thus may not offer full performance.</span></p></div></div></div></div></div><div class="toplevel beta_030 " id="peercall"><span class="name"><a href="#peercall">peer.call</a><span class="tag type method">method</span><span class="tag beta_030">beta (0.3.0)</span><span class="snippet">var <a href='#mediaconnection'>mediaConnection</a> = peer.call(id, stream);</span></span><p class="description">Calls the remote peer specified by <code>id</code> and returns a media connection. Be sure to listen on the <a href='#peeron-error'><code>error</code></a> event in case the connection fails.</p><div class="children"><div class="child " id="peercall-id"><span class="name"><a href="#peercall-id">id</a><span class="tag type string">string</span></span><p class="description">The brokering ID of the remote peer (their <a href='#peerid'><code>peer.id</code></a>).</p></div><div class="child " id="peercall-stream"><span class="name"><a href="#peercall-stream">stream</a><span class="tag type MediaStream">MediaStream</span></span><p class="description">Something else</p></div></div></div><div class="toplevel " id="peeron"><span class="name"><a href="#peeron">peer.on</a><span class="tag type method">method</span><span class="snippet">peer.on(event, callback);</span></span><p class="description">Set listeners for peer events.</p><div class="children"><div class="child " id="peeron-open"><span class="name"><a href="#peeron-open">'open'</a><span class="tag type event">event</span><span class="snippet">peer.on('open', function(id) { ... });</span></span><p class="description">Emitted when a connection to the PeerServer is established. You may use the peer before this is emitted, but messages to the server will be queued. <code>id</code> is the brokering ID of the peer (which was either provided in the constructor or assigned by the server).<span class='tip'>You should not wait for this event before connecting to other peers if connection speed is important.</span></p></div><div class="child " id="peeron-connection"><span class="name"><a href="#peeron-connection">'connection'</a><span class="tag type event">event</span><span class="snippet">peer.on('connection', function(<a href='#dataconnection'>dataConnection</a>) { ... });</span></span><p class="description">Emitted when a new data connection is established from a remote peer.</p></div><div class="child beta_030 " id="peeron-call"><span class="name"><a href="#peeron-call">'call'</a><span class="tag type event">event</span><span class="tag beta_030">beta (0.3.0)</span><span class="snippet">peer.on('call', function(<a href='#mediaconnection'>mediaConnection</a>) { ... });</span></span><p class="description">Emitted when a remote peer attempts to call you. The emitted <code>mediaConnection</code> is not yet active; you must first answer the call (<a href='#mediaconnection-answer'><code>mediaConnection.answer([stream]);</code></a>). Then, you can listen for the <a href='#mediaconnection-on'><code>stream</code></a> event.</p></div><div class="child " id="peeron-close"><span class="name"><a href="#peeron-close">'close'</a><span class="tag type event">event</span><span class="snippet">peer.on('close', function() { ... });</span></span><p class="description">Emitted when the peer is <a href='#peerdestroy'>destroyed</a>.<span class='tip'>To be extra certain that peers clean up correctly, we recommend calling <code>peer.destroy()</code> on a peer when it is no longer needed.</span></p></div><div class="child " id="peeron-error"><span class="name"><a href="#peeron-error">'error'</a><span class="tag type event">event</span><span class="snippet">peer.on('error', function(err) { ... });</span></span><p class="description">Errors on the peer are <strong>almost always fatal</strong> and will destroy the peer. Errors from the underlying socket and PeerConnections are forwarded here.<br><br>These come in the following <code>err.type</code> flavors:</p><div class="children"><div class="child fatal " id="peeron-error-browser-incompatible"><span class="name"><a href="#peeron-error-browser-incompatible">'browser-incompatible'</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">The client's browser does not support some or all WebRTC features that you are trying to use.</p></div><div class="child fatal " id="peeron-error-invalid-id"><span class="name"><a href="#peeron-error-invalid-id">'invalid-id'</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">The ID passed into the Peer constructor contains illegal characters.</p></div><div class="child fatal " id="peeron-error-invalid-key"><span class="name"><a href="#peeron-error-invalid-key">'invalid-key'</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">The API key passed into the Peer constructor contains illegal characters or is not in the system (cloud server only).</p></div><div class="child fatal " id="peeron-error-unavailable-id"><span class="name"><a href="#peeron-error-unavailable-id">'unavailable-id'</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">The ID passed into the Peer constructor is already taken.</p></div><div class="child fatal " id="peeron-error-ssl-unavailable"><span class="name"><a href="#peeron-error-ssl-unavailable">'ssl-unavailable'</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">PeerJS is being used securely, but the server does not support SSL.</p></div><div class="child " id="peeron-error-server-disconnected"><span class="name"><a href="#peeron-error-server-disconnected">'server-disconnected'</a><span class="tag type Error">Error</span></span><p class="description">You've already disconnected this peer and can no longer make any new connections on it.</p></div><div class="child fatal " id="peeron-error-server-error"><span class="name"><a href="#peeron-error-server-error">'server-error'</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">Unable to reach the server.</p></div><div class="child fatal " id="peeron-error-socket-error"><span class="name"><a href="#peeron-error-socket-error">'socket-error'</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">An error from the underlying socket.</p></div><div class="child fatal " id="peeron-error-socket-closed"><span class="name"><a href="#peeron-error-socket-closed">'socket-closed'</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">The underlying socket closed unexpectedly.</p></div></div></div></div></div><div class="toplevel " id="peerdisconnect"><span class="name"><a href="#peerdisconnect">peer.disconnect</a><span class="tag type method">method</span><span class="snippet">peer.disconnect();</span></span><p class="description">Close the connection to the server, leaving all existing data and media connections intact. <a href='#peerdisconnected'><code>peer.disconnected</code></a> will be set to <code>true</code>.<span class='warn'>This cannot be undone; the respective peer object will no longer be able to create or receive any connections and its ID will be forfeited on the (cloud) server.</span></p></div><div class="toplevel " id="peerdestroy"><span class="name"><a href="#peerdestroy">peer.destroy</a><span class="tag type method">method</span><span class="snippet">peer.destroy();</span></span><p class="description">Close the connection to the server and terminate all existing connections. <a href='#peerdestroyed'><code>peer.destroyed</code></a> will be set to <code>true</code>.<span class='warn'>This cannot be undone; the respective peer object will no longer be able to create or receive any connections, its ID will be forfeited on the (cloud) server, and all of its data and media connections will be closed.</span></p></div><div class="toplevel skyway " id="peerlistallpeers"><span class="name"><a href="#peerlistallpeers">peer.listAllPeers</a><span class="tag type method">method</span><span class="tag skyway">skyway</span><span class="snippet">peer.listAllPeers(function(list) { ... });</span></span><p class="description">Get an array of PeerIDs of users connected with the same API key.</p></div><div class="toplevel " id="peerid"><span class="name"><a href="#peerid">peer.id</a><span class="tag type string">string</span></span><p class="description">The brokering ID of this peer. If no ID was specified in <a href='#peer'>the constructor</a>, this will be <code>undefined</code> until the <a href='#peeron-open'><code>open</code></a> event is emitted.</p></div><div class="toplevel " id="peerconnections"><span class="name"><a href="#peerconnections">peer.connections</a><span class="tag type object">object</span></span><p class="description">A hash of all connections associated with this peer, keyed by the remote peer's ID.<span class='tip'>We recommend keeping track of connections yourself rather than relying on this hash.</span></p></div><div class="toplevel " id="peerdisconnected"><span class="name"><a href="#peerdisconnected">peer.disconnected</a><span class="tag type boolean">boolean</span></span><p class="description"><code>false</code> if there is an active connection to the PeerServer.</p></div><div class="toplevel " id="peerdestroyed"><span class="name"><a href="#peerdestroyed">peer.destroyed</a><span class="tag type boolean">boolean</span></span><p class="description"><code>true</code> if this peer and all of its connections can no longer be used.</p></div><div class="toplevel " id="dataconnection"><span class="name"><a href="#dataconnection">DataConnection</a><span class="tag type class">class</span></span><p class="description">Wraps WebRTC's DataChannel. To get one, use <a href='#peerconnect'><code>peer.connect</code></a> or listen for the <a href='#peeron-connect'><code>connect</code></a> event.</p><div class="children"><div class="child " id="dataconnection-send"><span class="name"><a href="#dataconnection-send">.send</a><span class="tag type method">method</span><span class="snippet">dataConnection.send(data);</span></span><p class="description"><code>data</code> is serialized by BinaryPack by default and sent to the remote peer.Depending on the value of serialization, the data that can be sent between each of the platforms (JavaScript, iOS, and Android) changes. See <a href='http://nttcom.github.io/skyway/docs/serialization.md'>this chart</a> for details.</p><div class="children"><div class="child " id="dataconnection-send-data"><span class="name"><a href="#dataconnection-send-data">data</a></span><p class="description">The data to send.</p></div></div></div><div class="child " id="dataconnection-close"><span class="name"><a href="#dataconnection-close">.close</a><span class="tag type method">method</span><span class="snippet">dataConnection.close();</span></span><p class="description">Closes the data connection gracefully, cleaning up underlying DataChannels and PeerConnections.</p></div><div class="child " id="dataconnection-on"><span class="name"><a href="#dataconnection-on">.on</a><span class="tag type method">method</span><span class="snippet">dataConnection.on(event, callback);</span></span><p class="description">Set listeners for data connection events.</p><div class="children"><div class="child " id="dataconnection-on-data"><span class="name"><a href="#dataconnection-on-data">'data'</a><span class="tag type event">event</span><span class="snippet">dataConnection.on('data', function(data) { ... });</span></span><p class="description">Emitted when data is received from the remote peer.</p></div><div class="child " id="dataconnection-on-open"><span class="name"><a href="#dataconnection-on-open">'open'</a><span class="tag type event">event</span><span class="snippet">dataConnection.on('open', function() { ... });</span></span><p class="description">Emitted when the connection is established and ready-to-use.</p></div><div class="child " id="dataconnection-on-close"><span class="name"><a href="#dataconnection-on-close">'close'</a><span class="tag type event">event</span><span class="snippet">dataConnection.on('close', function() { ... });</span></span><p class="description">Emitted when either you or the remote peer closes the data connection.<span class='warn'>Firefox does not yet support this event.</span></p></div><div class="child " id="dataconnection-on-error"><span class="name"><a href="#dataconnection-on-error">'error'</a><span class="tag type event">event</span><span class="snippet">dataConnection.on('error', function(err) { ... });</span></span></div></div></div><div class="child " id="dataconnection-datachannel"><span class="name"><a href="#dataconnection-datachannel">.dataChannel</a><span class="tag type object">object</span></span><p class="description">A reference to the RTCDataChannel object associated with the connection.</p></div><div class="child " id="dataconnection-label"><span class="name"><a href="#dataconnection-label">.label</a><span class="tag type string">string</span></span><p class="description">The optional label passed in or assigned by PeerJS when the connection was initiated.</p></div><div class="child " id="dataconnection-metadata"><span class="name"><a href="#dataconnection-metadata">.metadata</a></span><p class="description">Any type of metadata associated with the connection, passed in by whoever initiated the connection.</p></div><div class="child " id="dataconnection-serialization"><span class="name"><a href="#dataconnection-serialization">.serialization</a><span class="tag type string">string</span></span><p class="description">The serialization format of the data sent over the connection. Can be <code>binary</code> (default), <code>binary-utf8</code>, <code>json</code>, or <code>none</code>.</p></div><div class="child " id="dataconnection-open"><span class="name"><a href="#dataconnection-open">.open</a><span class="tag type boolean">boolean</span></span><p class="description">This is true if the connection is open and ready for read/write.</p></div><div class="child " id="dataconnection-peer"><span class="name"><a href="#dataconnection-peer">.peer</a><span class="tag type string">string</span></span><p class="description">The ID of the peer on the other end of this connection.</p></div><div class="child " id="dataconnection-type"><span class="name"><a href="#dataconnection-type">.type</a><span class="tag type string">string</span></span><p class="description">For data connections, this is always <code>'data'</code>.</p></div><div class="child " id="dataconnection-buffersize"><span class="name"><a href="#dataconnection-buffersize">.bufferSize</a><span class="tag type number">number</span></span><p class="description">The number of messages queued to be sent once the browser buffer is no longer full.</p></div></div></div><div class="toplevel beta_030 " id="mediaconnection"><span class="name"><a href="#mediaconnection">MediaConnection</a><span class="tag type class">class</span><span class="tag beta_030">beta (0.3.0)</span></span><p class="description">Wraps WebRTC's media streams. To get one, use <a href='#peercall'><code>peer.call</code></a> or listen for the <a href='#peeron-call'><code>call</code></a> event.</p><div class="children"><div class="child " id="mediaconnection-answer"><span class="name"><a href="#mediaconnection-answer">.answer</a><span class="tag type method">method</span><span class="snippet">mediaConnection.answer([stream]);</span></span><p class="description">When recieving a <a href='#peeron-call'><code>call</code></a> event on a peer, you can call <code>.answer</code> on the media connection provided by the callback to accept the call and optionally send your own media stream.</p><div class="children"><div class="child " id="mediaconnection-answer-stream"><span class="name"><a href="#mediaconnection-answer-stream"><span class="optional"><span class="bracket">[</span>stream<span class="bracket">]</span></span></a><span class="tag type MediaStream">MediaStream</span></span><p class="description">A WebRTC media stream from <a href='https://developer.mozilla.org/en-US/docs/Web/API/Navigator.getUserMedia'><code>getUserMedia</code></a>.</p></div></div></div><div class="child " id="mediaconnection-close"><span class="name"><a href="#mediaconnection-close">.close</a><span class="tag type method">method</span><span class="snippet">mediaConnection.close();</span></span><p class="description">Closes the media connection.</p></div><div class="child " id="mediaconnection-on"><span class="name"><a href="#mediaconnection-on">.on</a><span class="tag type method">method</span><span class="snippet">mediaConnection.on(event, callback);</span></span><p class="description">Set listeners for media connection events.</p><div class="children"><div class="child " id="mediaconnection-on-stream"><span class="name"><a href="#mediaconnection-on-stream">'stream'</a><span class="tag type event">event</span><span class="snippet">mediaConnection.on('stream', function(stream) { ... });</span></span><p class="description">Emitted when a remote peer adds a <code>stream</code>.</p></div><div class="child " id="mediaconnection-on-close"><span class="name"><a href="#mediaconnection-on-close">'close'</a><span class="tag type event">event</span><span class="snippet">mediaConnection.on('close', function() { ... });</span></span><p class="description">Emitted when either you or the remote peer closes the media connection.<span class='warn'>Firefox does not yet support this event.</span></p></div><div class="child " id="mediaconnection-on-error"><span class="name"><a href="#mediaconnection-on-error">'error'</a><span class="tag type event">event</span><span class="snippet">mediaConnection.on('error', function(err) { ... });</span></span></div></div></div><div class="child " id="mediaconnection-open"><span class="name"><a href="#mediaconnection-open">.open</a><span class="tag type boolean">boolean</span></span><p class="description">Whether the media connection is active (e.g. your call has been answered). You can check this if you want to set a maximum wait time for a one-sided call.</p></div><div class="child " id="mediaconnection-metadata"><span class="name"><a href="#mediaconnection-metadata">.metadata</a></span><p class="description">Any type of metadata associated with the connection, passed in by whoever initiated the connection.</p></div><div class="child " id="mediaconnection-peer"><span class="name"><a href="#mediaconnection-peer">.peer</a><span class="tag type string">string</span></span><p class="description">The ID of the peer on the other end of this connection.</p></div><div class="child " id="mediaconnection-type"><span class="name"><a href="#mediaconnection-type">.type</a><span class="tag type string">string</span></span><p class="description">For media connections, this is always <code>'media'</code>.</p></div></div></div><div class="toplevel utility " id="util"><span class="name"><a href="#util">util</a><span class="tag type object">object</span><span class="tag utility">utility</span></span><p class="description">Provides a variety of helpful utilities.<span class='warn'>Only the utilities documented here are guaranteed to be present on <code>util</code>. Undocumented utilities can be removed without warning. We don't consider these to be 'breaking changes.'</span></p><div class="children"><div class="child " id="util-browser"><span class="name"><a href="#util-browser">.browser</a><span class="tag type string">string</span><span class="snippet">if (util.browser === 'Firefox') { /* OK to peer with Firefox peers. */ }</span></span><p class="description">The current browser. This property can be useful in determining whether or not two peers can connect. For example, as of now data connections are not yet interoperable between major browsers. <code>util.browser</code> can currently have the values 'Firefox', 'Chrome', 'Unsupported', or 'Supported' (unknown WebRTC-compatible browser).</p></div><div class="child " id="util-supports"><span class="name"><a href="#util-supports">.supports</a><span class="tag type object">object</span><span class="snippet">if (util.supports.data) { /* OK to start a data connection. */ }</span></span><p class="description">A hash of WebRTC features mapped to booleans that correspond to whether the feature is supported by the current browser.<span class='warn'>Only the properties documented here are guaranteed to be present on <code>util.supports</code>.</span></p><div class="children"><div class="child " id="util-supports-audiovideo"><span class="name"><a href="#util-supports-audiovideo">.audioVideo</a><span class="tag type boolean">boolean</span></span><p class="description">True if the current browser supports media streams and PeerConnection.</p></div><div class="child " id="util-supports-data"><span class="name"><a href="#util-supports-data">.data</a><span class="tag type boolean">boolean</span></span><p class="description">True if the current browser supports DataChannel and PeerConnection.</p></div><div class="child " id="util-supports-binary"><span class="name"><a href="#util-supports-binary">.binary</a><span class="tag type boolean">boolean</span></span><p class="description">True if the current browser supports binary DataChannels.</p></div><div class="child " id="util-supports-reliable"><span class="name"><a href="#util-supports-reliable">.reliable</a><span class="tag type boolean">boolean</span></span><p class="description">True if the current browser supports reliable DataChannels.</p></div></div></div></div></div>
        </section>
        </div>
<div id="iOS">
<section class="start">
    <h1><a href="/skyway/">SkyWay iOS SDK</a> <span class="title">docs</span></h1>
    <p><br>SkyWay simplifies peer-to-peer data, video, and audio calls using WebRTC."SkyWay iOS SDK" is a framework that enables using SkyWay in iOS apps.This guide will show you the basic concepts of the SkyWay iOS SDK. If
      you learn better from seeing a working app, <a href="https://github.com/nttcom/SkyWay-iOS-Sample">see the examples</a></P>
    <h2>Setup</h2>
    <h3>1. Add required libraries and frameworks</h3>
    <p>Add the following libraries and frameworks to your Xcode project.</p>
    <pre>AudioToolbox.framework
AVFoundation.framework
CoreMedia.framework
CoreGraphoics.framework
Foundation.framework
GLKit.framework
SystemConfiguration.framework
libc++.dylib
libstdc++.6.0.9.dylib
libsqlite3.dylib
libicucore.dylib</pre>
    <h3>2. Import SkyWay iOS SDK</h3>
    <p>Add SkyWay.framework to your Xcode project and import header file.</p>
    <pre>#import &lt;SkyWay/SKWPeer.h&gt;</pre>
    <h3>3. Create the SKWPeer object</h3>
    <p>The SKWPeer object is where we create and receive connections.</p>
    <pre>SKWPeerOption* options = [[SKWPeerOption alloc] init];
options.key = @"{APIKEY}";
options.domain = @”{DOMAIN}”;
SKWPeer* peer = [[SKWPeer alloc] initWithOptions:options];</pre>
    <p>You can <a
            href="http://nttcom.github.io/skyway/registration.html">sign up for your own free key</a>. You will need to register a domain when you sign up for an API key. You will only be able to use the API key from the registered domains.</p>

    <p>You can also <a href="http://github.com/peers/peerjs-server">run your own PeerServer</a> for session metadata and candidate signaling, if you don't like the cloud.</p>
    <p>We're now ready to start making connections!</p>

    <h2>Usage</h2>
    <p>Every SKWPeer object is assigned a random, unique ID when it's created.</p>
      <pre>[peer on:SKW_PEER_EVENT_OPEN callback:^(NSObject* obj)
{
    if (YES == [obj isKindOfClass:[NSString class]])
    {
        NSString* ownId = (NSString *)obj;
    }
}];</pre>
    <p>When we want to connect to another peer, we'll need to know their peer id.
        Use the <a href="#iOS-skwpeer-listallpeers">listAllPeers</a> method of the SKWPeer class to get the remote PeerId or communicate PeerIds out of bound through some other method. Optionally, you can pass in your own IDs to the <a href="#iOS-skwpeer">SKWPeer constructor</a>.

    <p>Read the <a href="#iOS-skwpeer">Peer API reference</a> for complete
      information on its <a href="#iOS-skwpeeroption">options</a>, methods, <a href="#iOS-skwpeer-on">events</a>, and <a href="#iOS-skwpeer-on-event-skw_peer_event_error">error handling</a>.</p>

    <h3>Data connections</h3>
    <p>Start a data connection by calling <code>connectWithId</code> with the peer ID of the destination peer. Anytime another peer attempts to connect to your peer
      ID, you'll receive a <code>SKW_PEER_EVENT_CONNECTION</code> event. </p>
    <div class="pre-title">Start connection</div>
    <pre>SKWDataConnection* dataConnection = [peer connectWithId:'dest-peer-id'];</pre>
    <div class="pre-title">Receive connection</div>
    <pre>[peer on:SKW_PEER_EVENT_CONNECTION callback:^(NSObject* dataConnection){ ... }];</pre>
    <p><code>connectWithId</code> method of the SKWPeer class and the callback of the
      <code>SKW_PEER_EVENT_CONNECTION</code> event will both provide a
      <code>SKWDataConnection</code> object. This object will allow you to send and receive data:</p>
      <pre>[dataConnection on:SKW_DATACONNECTION_EVENT_OPEN callback:^(NSObject* obj){ ... }];
[dataConnection on:SKW_DATACONNECTION_EVENT_DATA callback:^(NSObject* obj)
{
    // Receive String messages
    NSString* strData = nil;
    if ([obj isKindOfClass:[NSString class]])
    {
        strData = (NSString *)obj;
    }
}];
// Send messages
BOOL bResult = [dataConnection send:@"Hello SkyWay!"];
if (NO == bResult)
{
    // Failed
}
else
{
    // Succeeded
}
    </pre>
    <p>Read the <a href="#iOS-skwdataconnection">DataConnection API reference</a> for complete details on its methods and events.</p>
    <h3>Video/audio calls</h3>
    <p>Call another peer by calling <code>callWithId</code> with the peer ID of the destination peer. When a peer calls you, the <code>SKW_PEER_EVENT_CALL</code> event is emitted.</p>
    <p>Unlike data connections, when receiving a <code>SKW_PEER_EVENT_CALL</code> event, the call must be answered or no connection is established.</p>
    <div class="pre-title">Start call</div>
    <pre>SKWMediaConnection* mediaConnection = [peer callWithId:dest-peer-id stream:mediaStream];</pre>
    <div class="pre-title">Answer call</div>
    <pre>[peer on:SKW_PEER_EVENT_CALL callback:^(NSObject* mediaConnection){
    [mediaConnection answer:mediaStream];
}];</pre>
    <p>When calling or answering a call, a MediaStream should be provided.
        MediaStream represents the local video (webcam) or audio stream and can be
      obtained SKWNavigator <a href="#iOS-skwnavigator-getusermedia"><code>getUserMedia</code></a> method. When answering a call, the MediaStream is optional and if none is provided then a one-way call is established. Once the call is established, its <code>isOpen</code> property is set to YES.</p>

    <p><code>callWithId</code> method of the SKWPeer class and the callback of the <code>SKW_PEER_EVENT_CALL</code> event provide a MediaConnection object. The MediaConnection object itself emits a <code>SKW_MEDIACONNECTION_EVENT_STREAM</code> event whose callback includes the video/audio stream of the other peer.</p>
      <pre>[mediaConnection on:SKW_MEDIACONNECTION_EVENT_STREAM callback:^(NSObject* stream)
{
    // `stream` is the SKWMediaStream of the remote peer.
    // Here you'd add it to SKWVideo.
}];</pre>
    <p>Read the <a href="#iOS-skwmediaconnection">MediaConnection API reference</a> for complete details on its methods and events.</p>

    <h2>SkyWay RestAPI</h2>
    <h3>listAllPeers</h3>
    <p>Gets a list of active PeerID's connecting with the API key.<p>
      <pre>[peer listAllPeers:^(NSArray* aryPeers)
{
    for (NSString* strPeer in aryPeers)
    {
        ...
    }
}];
</pre>

    <p>The SkyWay Rest API can only be accessed from the domain registered with the API key.</p>

    <h2>FAQ</h2>

    <h3>What kind of data can I send?</h3>

    <p>When <a href="#iOS-skwconnectoption-serialization">serialization</a> is set to binary or binary-utf8, <a href="https://github.com/gabriel/MPMessagePack">MessagePack</a> serialization format is used. You can easily send NSData*, NSString*, NSNumber*, NSDictionary*, NSArray*. It is not possible for an NSDictionary or NSArray to contain another NSDictionary/NSArray.</p>
          <pre>
NSDictionary* dctData = @{
    @"1": @"one",
    @"2": @"two",
    @"3": @"three",
    @"4": @"four",
    @"5": @"five",
    };
BOOL bResult = [_dataConnection send:dctData];</pre>
<p>Depending on the value of serialization, the data that can be sent between each of the platforms (JavaScript, iOS, and Android) changes. See <a href='http://nttcom.github.io/skyway/docs/serialization.md'>this chart</a> for details.</p>

    <h3>Are there any caveats?</h3>

    <p>A small percentage of users are behind symmetric NATs. When two symmetric NAT users try to connect to each other, NAT traversal is impossible and no connection can be made. A workaround is to proxy through the connection through a TURN server. You'll have to find your own. If you wish to use SkyWay's TURN server, you can apply <a href='https://skyway.io/ds/turnrequest' target='_blank'>here</a>. You can pass a TURN server into the <code>Peer</code> object options. This will allow your PeerJS app to work seamlessly for this situation.</p>
    <h3>How do I use a TURN server?</h3>
    <p>When creating your Peer object, pass in the ICE servers as the config key of the options hash.</p>
<pre>
SKWIceConfig* configStun = [[SKWIceConfig alloc] init];
configStun.url = @"stun:stun.skyway.io:3478";

SKWIceConfig* configTurn = [[SKWIceConfig alloc] init];
configTurn.url = @"turn:homeo@turn.bistri.com:80";
configTurn.credential = @"homeo";
// Sample servers, please use appropriate ones

SKWPeerOption* options = [[SKWPeerOption alloc] init];
option.config = @[configStun,configTurn];

SKWPeer* peer = [[SKWPeer alloc] initWithOptions:options];
</pre>
    <p>This option doesn't need to be set if you're using SkyWay's TURN server.</p>

         <h3>What if my peer has not yet connected to the server when I attempt
          to connect to it?</h3>

          <p>When you try to connect to a peer, PeerServer will hold a
          connection offer for up to 5 seconds before rejecting it. This is useful if you want to reconnect to a peer as it disconnects and reconnects rapidly between web pages.</p>

        <h3>Why am I unable to connect?</h3>
          <p>You could be behind a symmetric NAT, in which case you'll need to set up a TURN server.</p>

        <h3>What about latency/bandwidth?</h3>

          <p>Data sent between the two peers do not touch any other servers except for use of turn server, so the connection speed is limited only by the upload and download rates of the two peers. This also means you don't have the additional latency of an intermediary server.</p>
          <p>The latency to establish a connection can be split into two
          components:
          the brokering of data and the identification of clients. PeerJS has been
          designed to minimize the time you spend in these two areas. For
          brokering, data is sent through an XHR streaming request before a WebSocket
          connection is established, then through WebSockets. For client
          identification, we provide you the ability to pass in your own peer
          IDs, thus eliminating the RTT for retrieving an ID from the server.</p>

    <h3>Supported OS</h3>
    <p>iOS 7+</p>

    <h3>Supported devices</h3>
    <p>iPhone 5+、iPodTouch 5+、iPad 2+</p>

    <h3>More questions?</h3>
    <p><a href="https://groups.google.com/forum/#!forum/skywayjs">Discuss SkyWay on SkyWay Technical Forum Google Group.</a></p>
    <h3>Disclaimer</h3>
    <p>This document is based on <a href="http://peerjs.com/docs/">http://peerjs.com/docs/</a> and provides additional information necessary to use NTT Communication's SkyWay service. We cannot respond to inquiries regarding the original document.<br><br></p>

</section>

<header class="left">
    <h2>API Reference<a class="hide icon">&laquo;</a><a class="show icon">&raquo;</a></h2>
</header>
<header class="right">
    <h2>Getting Started</h2>
</header>

<section class="api">
    <div class="toplevel " id="iOS-skwpeer"><span class="name"><a href="#iOS-skwpeer">SKWPeer</a><span class="tag type CLASS">CLASS</span><span class="snippet">SKWPeer* peer = [[SKWPeer alloc] initWithId:peerId options:options];<br>SKWPeer* peer = [[SKWPeer alloc] initWithOptions:options];</span></span><p class="description">A peer can connect to other peers and listen for connections.</p><div class="children"><div class="child " id="iOS-skwpeer-peerid"><span class="name"><a href="#iOS-skwpeer-peerid"><span class="optional"><span class="bracket">[</span>peerId<span class="bracket">]</span></span></a><span class="tag type NSString">NSString</span></span><p class="description">Other peers can connect to this peer using the provided ID. If no ID is given, one will be generated by the brokering server.<span class='warn'>It's not recommended that you use this ID to identify peers, as it's meant to be used for brokering connections only. You're recommended to set the<a href='#iOS-skwconnectoption-metadata'><code>metadata</code></a> option to send other identifying information.</span></p></div><div class="child " id="iOS-skwpeer-options"><span class="name"><a href="#iOS-skwpeer-options">options</a><span class="tag type <a href='#iOS-skwpeeroption'>SKWPeerOption</a>"><a href='#iOS-skwpeeroption'>SKWPeerOption</a></span></span><p class="description">The options object.</p></div><div class="child " id="iOS-skwpeer-connectwithid"><span class="name"><a href="#iOS-skwpeer-connectwithid">connectWithId</a><span class="tag type METHOD">METHOD</span><span class="snippet">SKWDataConnection* dataConnection = [peer connectWithId:peerId];<br>SKWDataConnection* dataConnection = [peer connectWithId:peerId options:options];</span></span><p class="description">Connects to the remote peer specified by <code>id</code> and returns a SKWDataConnection. Be sure to listen on the <a href='#iOS-skwpeer-on-event-skw_peer_event_error'><code>error</code></a> event in case the connection fails.</p><div class="children"><div class="child " id="iOS-skwpeer-connectwithid-peerid"><span class="name"><a href="#iOS-skwpeer-connectwithid-peerid">peerId</a><span class="tag type NSString">NSString</span></span><p class="description">The brokering ID of the remote peer (their <a href='#iOS-skwpeer-identity'><code>identity</code></a>)</p></div><div class="child " id="iOS-skwpeer-connectwithid-options"><span class="name"><a href="#iOS-skwpeer-connectwithid-options"><span class="optional"><span class="bracket">[</span>options<span class="bracket">]</span></span></a><span class="tag type <a href='#iOS-skwconnectoption'>SKWConnectOption</a>"><a href='#iOS-skwconnectoption'>SKWConnectOption</a></span></span><p class="description">The options object.</p></div></div></div><div class="child " id="iOS-skwpeer-callwithid"><span class="name"><a href="#iOS-skwpeer-callwithid">callWithId</a><span class="snippet">SKWMediaConnection* mediaConnection = [peer callWithId:peerId stream:stream];<br>SKWMediaConnection* mediaConnection = [peer callWithId:peerId stream:stream options:options];</span></span><p class="description">Calls the remote peer specified by <code>id</code>で and returns a SKWMediaConnection.Be sure to listen on the <a href='#iOS-skwpeer-on-event-skw_peer_event_error'><code>error</code></a> event in case the connection fails.</p><div class="children"><div class="child " id="iOS-skwpeer-callwithid-peerid"><span class="name"><a href="#iOS-skwpeer-callwithid-peerid">peerId</a><span class="tag type NSString">NSString</span></span><p class="description">The brokering ID of the remote peer (their<a href='#iOS-skwpeer-identity'><code>identity</code></a>).</p></div><div class="child " id="iOS-skwpeer-callwithid-stream"><span class="name"><a href="#iOS-skwpeer-callwithid-stream">stream</a><span class="tag type <a href='#iOS-skwmediastream'>SKWMediaStream</a>"><a href='#iOS-skwmediastream'>SKWMediaStream</a></span></span><p class="description">The caller's media stream</p></div><div class="child " id="iOS-skwpeer-callwithid-options"><span class="name"><a href="#iOS-skwpeer-callwithid-options"><span class="optional"><span class="bracket">[</span>options<span class="bracket">]</span></span></a><span class="tag type <a href='#iOS-skwcalloption'>SKWCallOption</a>"><a href='#iOS-skwcalloption'>SKWCallOption</a></span></span><p class="description">The options object.</p></div></div></div><div class="child " id="iOS-skwpeer-on"><span class="name"><a href="#iOS-skwpeer-on">on</a><span class="tag type METHOD">METHOD</span><span class="snippet">[peer on:event callback:^(NSObject* obj)callback];</span></span><p class="description">Set listeners for SKWPeerEvent.</p><div class="children"><div class="child " id="iOS-skwpeer-on-event"><span class="name"><a href="#iOS-skwpeer-on-event">event</a><span class="tag type SKWPeerEventEnum">SKWPeerEventEnum</span></span><p class="description">Specifies the event type.</p><div class="children"><div class="child " id="iOS-skwpeer-on-event-skw_peer_event_open"><span class="name"><a href="#iOS-skwpeer-on-event-skw_peer_event_open">SKW_PEER_EVENT_OPEN</a><span class="snippet">[peer on:SKW_PEER_EVENT_OPEN callback:^(NSObject* ownId){ ... }];</span></span><p class="description">Emitted when a connection to the PeerServer is established. You may use the peer before this is emitted, but messages to the server will be queued.<code>ownId</code> is the brokering ID of the peer (which was either provided in the SKWPeer constructor or assigned by the server).<span class='tip'>You should not wait for this event before connecting to other peers if connection speed is important.</span> </p></div><div class="child " id="iOS-skwpeer-on-event-skw_peer_event_connection"><span class="name"><a href="#iOS-skwpeer-on-event-skw_peer_event_connection">SKW_PEER_EVENT_CONNECTION</a><span class="snippet">[peer on:SKW_PEER_EVENT_CONNECTION callback:^(NSObject* dataConnection){ ... }];</span></span><p class="description">Emitted when a new data connection is established from a remote peer. The callback function parameter is an SKWDataConnection object.</p></div><div class="child " id="iOS-skwpeer-on-event-skw_peer_event_call"><span class="name"><a href="#iOS-skwpeer-on-event-skw_peer_event_call">SKW_PEER_EVENT_CALL</a><span class="snippet">[peer on:SKW_PEER_EVENT_CALL callback:^(NSObject* mediaConnection){ ... }];</span></span><p class="description">Emitted when a remote peer attempts to call you. The callback function parameter is an SKWMediaConnection object. <code>mediaConnection</code> is not yet active; you must first answer the call（<a href='#iOS-skwmediaconnection-answer'><code>[mediaConnection answer:stream];</code></a>). Then, you can listen for the stream event.</p></div><div class="child " id="iOS-skwpeer-on-event-skw_peer_event_close"><span class="name"><a href="#iOS-skwpeer-on-event-skw_peer_event_close">SKW_PEER_EVENT_CLOSE</a><span class="snippet">[peer on:SKW_PEER_EVENT_CLOSE callback:^(NSObject* obj){ ... }];</span></span><p class="description">Emitted when the peer is<a href='#iOS-skwpeer-isdestroyed'>destroyed</a> and can no longer accept or create any new connections. At this time, the peer's connections will all be closed.<span class='tip'>To be extra certain that peers clean up correctly, we recommend calling peer.destroy() on a peer when it is no longer needed.</span></p></div><div class="child " id="iOS-skwpeer-on-event-skw_peer_event_disconnected"><span class="name"><a href="#iOS-skwpeer-on-event-skw_peer_event_disconnected">SKW_PEER_EVENT_DISCONNECTED</a><span class="snippet">[peer on:SKW_PEER_EVENT_DISCONNECTED callback:^(NSObject* obj){ ... }];</span></span><p class="description">Emitted when the peer is<a href='#iOS-skwpeer-isdisconnected'>disconnected</a> from the signalling server.</p></div><div class="child " id="iOS-skwpeer-on-event-skw_peer_event_error"><span class="name"><a href="#iOS-skwpeer-on-event-skw_peer_event_error">SKW_PEER_EVENT_ERROR</a><span class="snippet">[peer on:SKW_PEER_EVENT_ERROR callback:^(NSObject* obj){ ... }];</span></span><p class="description">The callback function parameter is an <a href='#iOS-skwpeererror'>SKWPeerError</a> object. Errors on the peer are almost always fatal and will destroy the peer. Errors from the underlying socket and PeerConnections are forwarded here.</p></div></div></div><div class="child " id="iOS-skwpeer-on-callback"><span class="name"><a href="#iOS-skwpeer-on-callback">callback</a></span><p class="description">Specifies the Block to call when the event is triggered.</p></div></div></div><div class="child " id="iOS-skwpeer-disconnect"><span class="name"><a href="#iOS-skwpeer-disconnect">disconnect</a><span class="tag type METHOD">METHOD</span><span class="snippet">[peer disconnect];</span></span><p class="description">Close the connection to the server, leaving all existing data and media connections intact.<a href='#iOS-skwpeer-isdisconnected'><code>disconnected</code></a>will be set to <code>true</code>.<span class='warn'>This cannot be undone; the respective peer object will no longer be able to create or receive any connections and its ID will be forfeited on the (cloud) server.</span></p></div><div class="child " id="iOS-skwpeer-reconnect"><span class="name"><a href="#iOS-skwpeer-reconnect">reconnect</a><span class="tag type METHOD">METHOD</span><span class="snippet">[peer reconnect];</span></span><p class="description">Reconnects to the signaling server. Connects using the same peerID. Only succeeds if disconnected using <a href='#iOS-skwpeer-disconnect'><code>disconnect</code></a>. Will not work if disconnected using <a href='#iOS-skwpeer-destroy'><code>destroy</code></a>.</p></div><div class="child " id="iOS-skwpeer-destroy"><span class="name"><a href="#iOS-skwpeer-destroy">destroy</a><span class="tag type METHOD">METHOD</span><span class="snippet">[peer destroy];</span></span><p class="description">Close the connection to the server and terminate all existing connections.<a href='#iOS-skwpeer-isdestroyed'><code>destroyed</code></a> will be set to <code>true</code>.<span class='warn'>This cannot be undone; the respective peer object will no longer be able to create or receive any connections and its ID will be forfeited on the (cloud) server. Also closes all MediaConnections and DataConnections.</span></p></div><div class="child " id="iOS-skwpeer-listallpeers"><span class="name"><a href="#iOS-skwpeer-listallpeers">listAllPeers</a><span class="tag type METHOD">METHOD</span><span class="snippet">[peer listAllPeers:^(NSArray* aryPeers){ ... }];</span></span><p class="description">Get an NSArray of PeerIDs of users connected with the same API key.</p></div><div class="child " id="iOS-skwpeer-identity"><span class="name"><a href="#iOS-skwpeer-identity">identity</a><span class="tag type NSString">NSString</span></span><p class="description">The brokering ID of this peer. If no ID was specified in the <a href='#iOS-skwpeer'>SKWPeer</a> class, this will be <code>undefined</code> until the<a href='#iOS-skwpeer-on-event-skw_peer_event_open'><code>open</code></a> event is emitted.</p></div><div class="child " id="iOS-skwpeer-connections"><span class="name"><a href="#iOS-skwpeer-connections">connections</a><span class="tag type NSMutableDictionary">NSMutableDictionary</span></span><p class="description">A hash of all connections associated with this peer, keyed by the remote peer's ID.<span class='tip'>We recommend keeping track of connections yourself rather than relying on this hash.</span></p></div><div class="child " id="iOS-skwpeer-isdisconnected"><span class="name"><a href="#iOS-skwpeer-isdisconnected">isDisconnected</a><span class="tag type BOOL">BOOL</span></span><p class="description"><code>NO</code> if there is an active connection to the PeerServer.</p></div><div class="child " id="iOS-skwpeer-isdestroyed"><span class="name"><a href="#iOS-skwpeer-isdestroyed">isDestroyed</a><span class="tag type BOOL">BOOL</span></span><p class="description"><code>YES</code> if this peer and all of its connections can no longer be used.</p></div></div></div><div class="toplevel " id="iOS-skwpeeroption"><span class="name"><a href="#iOS-skwpeeroption">SKWPeerOption</a><span class="tag type CLASS">CLASS</span><span class="snippet">SKWPeerOption* options = [[SKWPeerOption alloc] init];</span></span><p class="description">Specify connection settings.</p><div class="children"><div class="child " id="iOS-skwpeeroption-key"><span class="name"><a href="#iOS-skwpeeroption-key">key</a><span class="tag type NSString">NSString</span></span><p class="description">API key for the cloud PeerServer.</p></div><div class="child " id="iOS-skwpeeroption-domain"><span class="name"><a href="#iOS-skwpeeroption-domain">domain</a><span class="tag type NSString">NSString</span></span><p class="description">The domain registered with the API key on the SkyWay developer's dashboard.</p></div><div class="child " id="iOS-skwpeeroption-host"><span class="name"><a href="#iOS-skwpeeroption-host"><span class="optional"><span class="bracket">[</span>host<span class="bracket">]</span></span></a><span class="tag type NSString">NSString</span></span><p class="description">Server host. Defaults to <code>skyway.io</code>.</p></div><div class="child " id="iOS-skwpeeroption-port"><span class="name"><a href="#iOS-skwpeeroption-port"><span class="optional"><span class="bracket">[</span>port<span class="bracket">]</span></span></a><span class="tag type NSInteger">NSInteger</span></span><p class="description">Server port. Defaults to <code>443</code>.</p></div><div class="child " id="iOS-skwpeeroption-path"><span class="name"><a href="#iOS-skwpeeroption-path"><span class="optional"><span class="bracket">[</span>path<span class="bracket">]</span></span></a><span class="tag type NSString">NSString</span></span><p class="description">The path where your self-hosted PeerServer is running. Defaults to <code>'/'</code>.</p></div><div class="child " id="iOS-skwpeeroption-secure"><span class="name"><a href="#iOS-skwpeeroption-secure"><span class="optional"><span class="bracket">[</span>secure<span class="bracket">]</span></span></a><span class="tag type BOOL">BOOL</span></span><p class="description"><code>YES</code> if you're using SSL. Defaults to <code>YES</code> since skyway.io uses SSL.</p></div><div class="child " id="iOS-skwpeeroption-turn"><span class="name"><a href="#iOS-skwpeeroption-turn"><span class="optional"><span class="bracket">[</span>turn<span class="bracket">]</span></span></a><span class="tag type BOOL">BOOL</span></span><p class="description"><code>YES</code> if you're using SkyWay's TURN server. Defaults to <code>NO</code>. You must apply <a href='https://skyway.io/ds/turnrequest' target='_blank'>here</a> to use this feature.</p></div><div class="child " id="iOS-skwpeeroption-config"><span class="name"><a href="#iOS-skwpeeroption-config"><span class="optional"><span class="bracket">[</span>config<span class="bracket">]</span></span></a><span class="tag type NSArray <SKWIceConfig>">NSArray <SKWIceConfig></span></span><p class="description">Configuration <a href='#iOS-skwiceconfig'><code>SKWIceConfig</code></a> NSArray*.Defaults to { 'iceServers': [{ 'url': 'stun:stun.skyway.io:3478' }] }. It is not necessary to set iceServers if you're using SkyWay's TURN server.</p></div><div class="child " id="iOS-skwpeeroption-debug"><span class="name"><a href="#iOS-skwpeeroption-debug"><span class="optional"><span class="bracket">[</span>debug<span class="bracket">]</span></span></a><span class="tag type SKWDebugLevelEnum">SKWDebugLevelEnum</span></span><p class="description">Prints log messages depending on the debug level passed in. Defaults to <code>SKW_DEBUG_LEVEL_NO_LOGS</code>.</p><div class="children"><div class="child " id="iOS-skwpeeroption-debug-skw_debug_level_no_logs"><span class="name"><a href="#iOS-skwpeeroption-debug-skw_debug_level_no_logs">SKW_DEBUG_LEVEL_NO_LOGS</a></span><p class="description">Prints no logs.</p></div><div class="child " id="iOS-skwpeeroption-debug-skw_debug_level_only_error"><span class="name"><a href="#iOS-skwpeeroption-debug-skw_debug_level_only_error">SKW_DEBUG_LEVEL_ONLY_ERROR</a></span><p class="description">Prints only errors.</p></div><div class="child " id="iOS-skwpeeroption-debug-skw_debug_level_error_and_warning"><span class="name"><a href="#iOS-skwpeeroption-debug-skw_debug_level_error_and_warning">SKW_DEBUG_LEVEL_ERROR_AND_WARNING</a></span><p class="description">Prints errors and warnings.</p></div><div class="child " id="iOS-skwpeeroption-debug-skw_debug_level_all_logs"><span class="name"><a href="#iOS-skwpeeroption-debug-skw_debug_level_all_logs">SKW_DEBUG_LEVEL_ALL_LOGS</a></span><p class="description">Prints all logs.</p></div></div></div></div></div><div class="toplevel " id="iOS-skwiceconfig"><span class="name"><a href="#iOS-skwiceconfig">SKWIceConfig</a><span class="tag type CLASS">CLASS</span><span class="snippet">SKWIceConfig* config = [[SKWIceConfig alloc] init];</span></span><p class="description">Specify STUN/TURN server settings.</p><div class="children"><div class="child " id="iOS-skwiceconfig-url"><span class="name"><a href="#iOS-skwiceconfig-url">url</a><span class="tag type NSString">NSString</span></span><p class="description">The STUN/TURN server url.</p></div><div class="child " id="iOS-skwiceconfig-username"><span class="name"><a href="#iOS-skwiceconfig-username"><span class="optional"><span class="bracket">[</span>username<span class="bracket">]</span></span></a><span class="tag type NSString">NSString</span></span><p class="description">Use when a user name is required.</p></div><div class="child " id="iOS-skwiceconfig-credential"><span class="name"><a href="#iOS-skwiceconfig-credential"><span class="optional"><span class="bracket">[</span>credential<span class="bracket">]</span></span></a><span class="tag type NSString">NSString</span></span><p class="description">Use when a password is required.</p></div></div></div><div class="toplevel " id="iOS-skwconnectoption"><span class="name"><a href="#iOS-skwconnectoption">SKWConnectOption</a><span class="tag type CLASS">CLASS</span><span class="snippet">SKWConnectOption* options = [[SKWConnectOption alloc] init];</span></span><p class="description">Specify options for connecting to peers.</p><div class="children"><div class="child " id="iOS-skwconnectoption-label"><span class="name"><a href="#iOS-skwconnectoption-label">label</a><span class="tag type NSString">NSString</span></span><p class="description">A unique label by which you want to identify this data connection. If left unspecified, a label will be generated at random. Can be accessed withdataConnection.<a href='#iOS-skwdataconnection-label'><code>label</code></a></p></div><div class="child " id="iOS-skwconnectoption-metadata"><span class="name"><a href="#iOS-skwconnectoption-metadata">metadata</a><span class="tag type NSString">NSString</span></span><p class="description">Metadata associated with the connection, passed in by whoever initiated the connection. Can be accessed withdataConnection.<a href='#iOS-skwdataconnection-metadata'><code>metadata</code></a>.</p></div><div class="child " id="iOS-skwconnectoption-serialization"><span class="name"><a href="#iOS-skwconnectoption-serialization">serialization</a><span class="tag type SKWSerializationEnum">SKWSerializationEnum</span></span><p class="description">The data serialization format. Default is BINARY. This value changes what type of data can be sent using dataConnection.<a href='#iOS-skwdataconnection-send'><code>send</code></a>. The value can be obtained using dataConnection.<a href='#iOS-skwdataconnection-serialization'><code>serialization</code></a>.</p><div class="children"><div class="child " id="iOS-skwconnectoption-serialization-skw_serialization_binary"><span class="name"><a href="#iOS-skwconnectoption-serialization-skw_serialization_binary">SKW_SERIALIZATION_BINARY</a></span><p class="description">Set serialization type:<code>binary</code></p></div><div class="child " id="iOS-skwconnectoption-serialization-skw_serialization_binary_utf8"><span class="name"><a href="#iOS-skwconnectoption-serialization-skw_serialization_binary_utf8">SKW_SERIALIZATION_BINARY_UTF8</a></span><p class="description">Set serialization type:<code>binary-utf8</code></p></div><div class="child " id="iOS-skwconnectoption-serialization-skw_serialization_json"><span class="name"><a href="#iOS-skwconnectoption-serialization-skw_serialization_json">SKW_SERIALIZATION_JSON</a></span><p class="description">Set serialization type:<code>json</code></p></div><div class="child " id="iOS-skwconnectoption-serialization-skw_serialization_none"><span class="name"><a href="#iOS-skwconnectoption-serialization-skw_serialization_none">SKW_SERIALIZATION_NONE</a></span><p class="description">Set serialization type:<code>none</code></p></div></div></div><div class="child " id="iOS-skwconnectoption-reliable"><span class="name"><a href="#iOS-skwconnectoption-reliable">reliable</a><span class="tag type BOOL">BOOL</span></span><p class="description">Whether the underlying data channels should be reliable (e.g. for large file transfers) or not (e.g. for gaming or streaming). Defaults to <code>NO</code></p></div></div></div><div class="toplevel " id="iOS-skwcalloption"><span class="name"><a href="#iOS-skwcalloption">SKWCallOption</a><span class="tag type CLASS">CLASS</span><span class="snippet">SKWCallOption* options = [[SKWCallOption alloc] init];</span></span><p class="description">Specify options for calling peers.</p><div class="children"><div class="child " id="iOS-skwcalloption-metadata"><span class="name"><a href="#iOS-skwcalloption-metadata">metadata</a></span><p class="description">Any type of metadata associated with the connection, passed in by whoever initiated the connection.</p></div></div></div><div class="toplevel " id="iOS-skwpeererror"><span class="name"><a href="#iOS-skwpeererror">SKWPeerError</a><span class="tag type CLASS">CLASS</span></span><p class="description">Obtained when an ”error” event occurs. If the OS gives error info, it can be found in the error property.</p><div class="children"><div class="child " id="iOS-skwpeererror-type"><span class="name"><a href="#iOS-skwpeererror-type">type</a><span class="tag type SKWPeerErrorEnum">SKWPeerErrorEnum</span></span><p class="description">Enumerated error types.</p><div class="children"><div class="child fatal " id="iOS-skwpeererror-type-skw_peer_err_no_error"><span class="name"><a href="#iOS-skwpeererror-type-skw_peer_err_no_error">SKW_PEER_ERR_NO_ERROR</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">No error has occurred</p></div><div class="child fatal " id="iOS-skwpeererror-type-skw_peer_err_browser_incompatible"><span class="name"><a href="#iOS-skwpeererror-type-skw_peer_err_browser_incompatible">SKW_PEER_ERR_BROWSER_INCOMPATIBLE</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">The client does not support some or all WebRTC features that you are trying to use.</p></div><div class="child fatal " id="iOS-skwpeererror-type-skw_peer_err_invalid_id"><span class="name"><a href="#iOS-skwpeererror-type-skw_peer_err_invalid_id">SKW_PEER_ERR_INVALID_ID</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">The ID passed into the SKWPeer constructor contains illegal characters.</p></div><div class="child fatal " id="iOS-skwpeererror-type-skw_peer_err_invalid_key"><span class="name"><a href="#iOS-skwpeererror-type-skw_peer_err_invalid_key">SKW_PEER_ERR_INVALID_KEY</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">The API key passed into the SKWPeer constructor contains illegal characters or is not in the system (cloud server only).。</p></div><div class="child fatal " id="iOS-skwpeererror-type-skw_peer_err_unavailable_id"><span class="name"><a href="#iOS-skwpeererror-type-skw_peer_err_unavailable_id">SKW_PEER_ERR_UNAVAILABLE_ID</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">The ID passed into the SKWPeer constructor is already taken.</p></div><div class="child fatal " id="iOS-skwpeererror-type-skw_peer_err_ssl_unavailable"><span class="name"><a href="#iOS-skwpeererror-type-skw_peer_err_ssl_unavailable">SKW_PEER_ERR_SSL_UNAVAILABLE</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">The server does not support SSL.</p></div><div class="child " id="iOS-skwpeererror-type-skw_peer_err_disconnected"><span class="name"><a href="#iOS-skwpeererror-type-skw_peer_err_disconnected">SKW_PEER_ERR_DISCONNECTED</a><span class="tag type Error">Error</span></span><p class="description">You've already disconnected this peer and can no longer make any new connections on it.</p></div><div class="child fatal " id="iOS-skwpeererror-type-skw_peer_err_server_error"><span class="name"><a href="#iOS-skwpeererror-type-skw_peer_err_server_error">SKW_PEER_ERR_SERVER_ERROR</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">Unable to reach the server.</p></div><div class="child fatal " id="iOS-skwpeererror-type-skw_peer_err_socket_error"><span class="name"><a href="#iOS-skwpeererror-type-skw_peer_err_socket_error">SKW_PEER_ERR_SOCKET_ERROR</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">An error from the underlying socket.</p></div><div class="child fatal " id="iOS-skwpeererror-type-skw_peer_err_socket_closed"><span class="name"><a href="#iOS-skwpeererror-type-skw_peer_err_socket_closed">SKW_PEER_ERR_SOCKET_CLOSED</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">The underlying socket closed unexpectedly.</p></div><div class="child fatal " id="iOS-skwpeererror-type-skw_peer_err_network"><span class="name"><a href="#iOS-skwpeererror-type-skw_peer_err_network">SKW_PEER_ERR_NETWORK</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">Network error between signalling server.</p></div><div class="child fatal " id="iOS-skwpeererror-type-skw_peer_err_peer_unavailable"><span class="name"><a href="#iOS-skwpeererror-type-skw_peer_err_peer_unavailable">SKW_PEER_ERR_PEER_UNAVAILABLE</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">The Peer is unavailable.</p></div><div class="child fatal " id="iOS-skwpeererror-type-skw_peer_err_webrtc"><span class="name"><a href="#iOS-skwpeererror-type-skw_peer_err_webrtc">SKW_PEER_ERR_WEBRTC</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">Error about WebRTC.</p></div></div></div><div class="child " id="iOS-skwpeererror-message"><span class="name"><a href="#iOS-skwpeererror-message">message</a><span class="tag type NSString">NSString</span></span><p class="description">error message</p></div><div class="child " id="iOS-skwpeererror-error"><span class="name"><a href="#iOS-skwpeererror-error">error</a><span class="tag type NSError">NSError</span></span><p class="description">Error information object from OS.</p></div></div></div><div class="toplevel " id="iOS-skwdataconnection"><span class="name"><a href="#iOS-skwdataconnection">SKWDataConnection</a><span class="tag type CLASS">CLASS</span></span><p class="description">Wraps WebRTC's DataChannel. To get one, use SKWPeer <a href='#iOS-skwpeer-connectwithid'><code>connectWithId</code></a> or listen for the <a href='#iOS-skwpeer-on-event-skw_peer_event_connection'><code>SKW_PEER_EVENT_CONNECTION</code></a> event.</p><div class="children"><div class="child " id="iOS-skwdataconnection-send"><span class="name"><a href="#iOS-skwdataconnection-send">send</a><span class="tag type METHOD">METHOD</span><span class="snippet">BOOL bResult = [dataConnection send:data];</span></span><p class="description">Sends data to the remote peer. The processing method changes depending on the <a href='#iOS-skwdataconnection-serialization'><code>serialization</code></a>property. Depending on the value of serialization, the data that can be sent between each of the platforms (JavaScript, iOS, and Android) changes. See <a href='http://nttcom.github.io/skyway/docs/serialization.md'>this chart</a> for details.</p><div class="children"><div class="child " id="iOS-skwdataconnection-send-data"><span class="name"><a href="#iOS-skwdataconnection-send-data">data</a></span><p class="description">The data to send.</p></div></div></div><div class="child " id="iOS-skwdataconnection-close"><span class="name"><a href="#iOS-skwdataconnection-close">close</a><span class="tag type METHOD">METHOD</span><span class="snippet">[dataConnection close];</span></span><p class="description">Closes the data connection gracefully, cleaning up underlying DataChannels and PeerConnections.</p></div><div class="child " id="iOS-skwdataconnection-on"><span class="name"><a href="#iOS-skwdataconnection-on">on</a><span class="tag type METHOD">METHOD</span><span class="snippet">[dataConnection on:event callback:^(NSObject* obj)callback];</span></span><p class="description">Set event callback for SKWDataConnection events.</p><div class="children"><div class="child " id="iOS-skwdataconnection-on-event"><span class="name"><a href="#iOS-skwdataconnection-on-event">event</a><span class="tag type SKWDataConnectionEventEnum">SKWDataConnectionEventEnum</span></span><p class="description">Data connection event types.</p><div class="children"><div class="child " id="iOS-skwdataconnection-on-event-skw_dataconnection_event_data"><span class="name"><a href="#iOS-skwdataconnection-on-event-skw_dataconnection_event_data">SKW_DATACONNECTION_EVENT_DATA</a><span class="snippet">[dataConnection on:SKW_DATACONNECTION_EVENT_DATA callback:^(NSObject* obj){ ... }];</span></span><p class="description">Emitted when data is received from the remote peer.</p></div><div class="child " id="iOS-skwdataconnection-on-event-skw_dataconnection_event_open"><span class="name"><a href="#iOS-skwdataconnection-on-event-skw_dataconnection_event_open">SKW_DATACONNECTION_EVENT_OPEN</a><span class="snippet">[dataConnection on:SKW_DATACONNECTION_EVENT_OPEN callback:^(NSObject* obj){ ... }];</span></span><p class="description">Emitted when the connection is established and ready-to-use.</p></div><div class="child " id="iOS-skwdataconnection-on-event-skw_dataconnection_event_close"><span class="name"><a href="#iOS-skwdataconnection-on-event-skw_dataconnection_event_close">SKW_DATACONNECTION_EVENT_CLOSE</a><span class="snippet">[dataConnection on:SKW_DATACONNECTION_EVENT_CLOSE callback:^(NSObject* obj){ ... }];</span></span><p class="description">Emitted when either you or the remote peer closes the data connection.</p></div><div class="child " id="iOS-skwdataconnection-on-event-skw_dataconnection_event_error"><span class="name"><a href="#iOS-skwdataconnection-on-event-skw_dataconnection_event_error">SKW_DATACONNECTION_EVENT_ERROR</a><span class="snippet">[dataConnection on:SKW_DATACONNECTION_EVENT_ERROR callback:^(NSObject* obj){ ... }];</span></span><p class="description">The callback function parameter is a<a href='#iOS-skwpeererror'>SKWPeerError</a> parameter.</p></div></div></div><div class="child " id="iOS-skwdataconnection-on-callback"><span class="name"><a href="#iOS-skwdataconnection-on-callback">callback</a></span><p class="description">Specifies the Block to call when the event is triggered.</p></div></div></div><div class="child " id="iOS-skwdataconnection-buffersize"><span class="name"><a href="#iOS-skwdataconnection-buffersize">bufferSize</a><span class="tag type NSUInteger">NSUInteger</span></span><p class="description">The number of messages queued to be sent once the browser buffer is no longer full.</p></div><div class="child " id="iOS-skwdataconnection-datachannel"><span class="name"><a href="#iOS-skwdataconnection-datachannel">dataChannel</a><span class="tag type <a href='#iOS-skwdatachannel'>SKWDataChannel</a>"><a href='#iOS-skwdatachannel'>SKWDataChannel</a></span></span><p class="description">A reference to the SKWDataChannel object associated with the connection.</p></div><div class="child " id="iOS-skwdataconnection-label"><span class="name"><a href="#iOS-skwdataconnection-label">label</a><span class="tag type NSString">NSString</span></span><p class="description">A unique label by which you want to identify this data connection. If left unspecified, a label will be generated at random.</p></div><div class="child " id="iOS-skwdataconnection-metadata"><span class="name"><a href="#iOS-skwdataconnection-metadata">metadata</a><span class="tag type NSObject">NSObject</span></span><p class="description">Any type of metadata associated with the connection, passed in by whoever initiated the connection.</p></div><div class="child " id="iOS-skwdataconnection-isopen"><span class="name"><a href="#iOS-skwdataconnection-isopen">isOpen</a><span class="tag type BOOL">BOOL</span></span><p class="description">Is <code>YES</code> if the connection is open and ready for reading and writing.</p></div><div class="child " id="iOS-skwdataconnection-peerconnection"><span class="name"><a href="#iOS-skwdataconnection-peerconnection">peerConnection</a><span class="tag type RTCPeerConnection">RTCPeerConnection</span></span><p class="description">The RTCPeerConnection object tied to the connection.</p></div><div class="child " id="iOS-skwdataconnection-peer"><span class="name"><a href="#iOS-skwdataconnection-peer">peer</a><span class="tag type NSString">NSString</span></span><p class="description">The ID of the peer on the other end of this connection.</p></div><div class="child " id="iOS-skwdataconnection-reliable"><span class="name"><a href="#iOS-skwdataconnection-reliable">reliable</a><span class="tag type BOOL">BOOL</span></span><p class="description">Whether the underlying data channels should be reliable. Is set when the connection is opened.</p></div><div class="child " id="iOS-skwdataconnection-serialization"><span class="name"><a href="#iOS-skwdataconnection-serialization">serialization</a><span class="tag type SKWSerializationEnum">SKWSerializationEnum</span></span><p class="description">The serialization format to use when sending data. Is set when the connection is opened.</p><div class="children"><div class="child " id="iOS-skwdataconnection-serialization-skw_serialization_binary"><span class="name"><a href="#iOS-skwdataconnection-serialization-skw_serialization_binary">SKW_SERIALIZATION_BINARY</a></span><p class="description"><code>binary</code></p></div><div class="child " id="iOS-skwdataconnection-serialization-skw_serialization_binary_utf8"><span class="name"><a href="#iOS-skwdataconnection-serialization-skw_serialization_binary_utf8">SKW_SERIALIZATION_BINARY_UTF8</a></span><p class="description"><code>binary-utf8</code></p></div><div class="child " id="iOS-skwdataconnection-serialization-skw_serialization_json"><span class="name"><a href="#iOS-skwdataconnection-serialization-skw_serialization_json">SKW_SERIALIZATION_JSON</a></span><p class="description"><code>json</code></p></div><div class="child " id="iOS-skwdataconnection-serialization-skw_serialization_none"><span class="name"><a href="#iOS-skwdataconnection-serialization-skw_serialization_none">SKW_SERIALIZATION_NONE</a></span><p class="description"><code>none</code></p></div></div></div><div class="child " id="iOS-skwdataconnection-type"><span class="name"><a href="#iOS-skwdataconnection-type">type</a><span class="tag type NSString">NSString</span></span><p class="description">For data connections, this is always <code>'data'</code>.</p></div></div></div><div class="toplevel " id="iOS-skwmediaconnection"><span class="name"><a href="#iOS-skwmediaconnection">SKWMediaConnection</a><span class="tag type CLASS">CLASS</span></span><p class="description">Wraps WebRTC's media streams. Obtained from Peer.<a href='#iOS-skwpeer-callwithid'><code>callWithId</code></a> or the <a href='#iOS-skwpeer-on-event-skw_peer_event_call'><code>SKW_PEER_EVENT_CALL</code></a> event.</p><div class="children"><div class="child " id="iOS-skwmediaconnection-answer"><span class="name"><a href="#iOS-skwmediaconnection-answer">answer</a><span class="tag type METHOD">METHOD</span><span class="snippet">[mediaConnection answer];<br>[mediaConnection answer:stream];</span></span><p class="description">Answer media connections obtained from a <a href='#iOS-skwpeer-on-event-skw_peer_event_call'><code>call</code></a> event. You can set your own media stream as the parameter.</p><div class="children"><div class="child " id="iOS-skwmediaconnection-answer-stream"><span class="name"><a href="#iOS-skwmediaconnection-answer-stream"><span class="optional"><span class="bracket">[</span>stream<span class="bracket">]</span></span></a><span class="tag type <a href='#iOS-skwmediastream'>SKWMediaStream</a>"><a href='#iOS-skwmediastream'>SKWMediaStream</a></span></span><p class="description"><a href='#iOS-skwmediastream'><code>SKWMediaStream</code></a> obtained from SKWNavigator.getUserMedia.</p></div></div></div><div class="child " id="iOS-skwmediaconnection-close"><span class="name"><a href="#iOS-skwmediaconnection-close">close</a><span class="tag type METHOD">METHOD</span><span class="snippet">[media close];</span></span><p class="description">Closes the media connection.</p></div><div class="child " id="iOS-skwmediaconnection-on"><span class="name"><a href="#iOS-skwmediaconnection-on">on</a><span class="tag type METHOD">METHOD</span><span class="snippet">[mediaConnection on:event callback:^(NSObject* obj)callback];</span></span><p class="description">Set listeners for SKWMediaConnectionEnum event.</p><div class="children"><div class="child " id="iOS-skwmediaconnection-on-event"><span class="name"><a href="#iOS-skwmediaconnection-on-event">event</a><span class="tag type SKWMediaConnectionEnum">SKWMediaConnectionEnum</span></span><p class="description">MediaConnection event types.</p><div class="children"><div class="child " id="iOS-skwmediaconnection-on-event-skw_mediaconnection_event_stream"><span class="name"><a href="#iOS-skwmediaconnection-on-event-skw_mediaconnection_event_stream">SKW_MEDIACONNECTION_EVENT_STREAM</a><span class="snippet">[mediaConnection on:SKW_MEDIACONNECTION_EVENT_STREAM callback:^(NSObject* stream){ ... }];</span></span><p class="description">Emitted when a remote peer adds a <code>stream</code>.</p></div><div class="child " id="iOS-skwmediaconnection-on-event-skw_mediaconnection_event_close"><span class="name"><a href="#iOS-skwmediaconnection-on-event-skw_mediaconnection_event_close">SKW_MEDIACONNECTION_EVENT_CLOSE</a><span class="snippet">[mediaConnection on:SKW_MEDIACONNECTION_EVENT_CLOSE callback:^(NSObject* obj){ ... }];</span></span><p class="description">Emitted when either you or the remote peer closes the media connection.</p></div><div class="child " id="iOS-skwmediaconnection-on-event-skw_mediaconnection_event_error"><span class="name"><a href="#iOS-skwmediaconnection-on-event-skw_mediaconnection_event_error">SKW_MEDIACONNECTION_EVENT_ERROR</a><span class="snippet">[mediaConnection on:SKW_MEDIACONNECTION_EVENT_ERROR callback:^(NSObject* obj){ ... }];</span></span><p class="description">The class of callback arguments is<a href='#iOS-skwpeererror'>SKWPeerError</a>.</p></div></div></div><div class="child " id="iOS-skwmediaconnection-on-callback"><span class="name"><a href="#iOS-skwmediaconnection-on-callback">callback</a></span><p class="description">Specifies the Block to call when the event is triggered.</p></div></div></div><div class="child " id="iOS-skwmediaconnection-isopen"><span class="name"><a href="#iOS-skwmediaconnection-isopen">isOpen</a><span class="tag type BOOL">BOOL</span></span><p class="description">Whether the media connection is active (e.g. your call has been answered). You can check this if you want to set a maximum wait time for a one-sided call.</p></div><div class="child " id="iOS-skwmediaconnection-metadata"><span class="name"><a href="#iOS-skwmediaconnection-metadata">metadata</a><span class="tag type NSObject">NSObject</span></span><p class="description">Any type of metadata associated with the connection, passed in by whoever initiated the connection.</p></div><div class="child " id="iOS-skwmediaconnection-peer"><span class="name"><a href="#iOS-skwmediaconnection-peer">peer</a><span class="tag type NSString">NSString</span></span><p class="description">The ID of the peer on the other end of this connection.</p></div><div class="child " id="iOS-skwmediaconnection-type"><span class="name"><a href="#iOS-skwmediaconnection-type">type</a><span class="tag type NSString">NSString</span></span><p class="description">For media connections, this is always <code>'media'</code>.</p></div></div></div><div class="toplevel " id="iOS-skwmediastream"><span class="name"><a href="#iOS-skwmediastream">SKWMediaStream</a><span class="tag type CLASS">CLASS</span></span><div class="children"><div class="child " id="iOS-skwmediastream-close"><span class="name"><a href="#iOS-skwmediastream-close">close</a><span class="tag type METHOD">METHOD</span><span class="snippet">[stream close];</span></span><p class="description">close MedisStream.</p></div><div class="child " id="iOS-skwmediastream-getvideotracks"><span class="name"><a href="#iOS-skwmediastream-getvideotracks">getVideoTracks</a><span class="tag type METHOD">METHOD</span><span class="snippet">NSUInteger videos = [stream getVideoTracks];</span></span><p class="description">Gets the number of VideoTracks added to the MediaStream.</p></div><div class="child " id="iOS-skwmediastream-setenablevideotrack"><span class="name"><a href="#iOS-skwmediastream-setenablevideotrack">setEnableVideoTrack</a><span class="tag type METHOD">METHOD</span><span class="snippet">[stream setEnableVideoTrack:pos enable:enable];</span></span><p class="description">Sets the play state of VideoTracks in a MediaStream.</p><div class="children"><div class="child " id="iOS-skwmediastream-setenablevideotrack-pos"><span class="name"><a href="#iOS-skwmediastream-setenablevideotrack-pos">pos</a><span class="tag type NSUInteger">NSUInteger</span></span><p class="description">The index of the VideoTrack. VideoTrack indexes are 0 or greater.</p></div><div class="child " id="iOS-skwmediastream-setenablevideotrack-enable"><span class="name"><a href="#iOS-skwmediastream-setenablevideotrack-enable">enable</a><span class="tag type BOOL">BOOL</span></span><p class="description">Play if <code>YES</code>, stop if <code>NO</code>.</p></div></div></div><div class="child " id="iOS-skwmediastream-getenablevideotrack"><span class="name"><a href="#iOS-skwmediastream-getenablevideotrack">getEnableVideoTrack</a><span class="tag type METHOD">METHOD</span><span class="snippet">BOOL enable = [stream getEnableVideoTrack:pos];</span></span><p class="description">Gets the play state of the VideoTrack.</p><div class="children"><div class="child " id="iOS-skwmediastream-getenablevideotrack-pos"><span class="name"><a href="#iOS-skwmediastream-getenablevideotrack-pos">pos</a><span class="tag type NSUInteger">NSUInteger</span></span><p class="description">The index of the VideoTrack. VideoTrack indexes are 0 or greater.</p></div></div></div><div class="child " id="iOS-skwmediastream-getaudiotracks"><span class="name"><a href="#iOS-skwmediastream-getaudiotracks">getAudioTracks</a><span class="tag type METHOD">METHOD</span><span class="snippet">NSUInteger audios = [stream getAudioTracks];</span></span><p class="description">The number of Audio tracks added to media stream.</p></div><div class="child " id="iOS-skwmediastream-setenableaudiotrack"><span class="name"><a href="#iOS-skwmediastream-setenableaudiotrack">setEnableAudioTrack</a><span class="tag type METHOD">METHOD</span><span class="snippet">[stream setEnableAudioTrack:pos enable:enable];</span></span><p class="description">Set the play state of audio track added to media stream.</p><div class="children"><div class="child " id="iOS-skwmediastream-setenableaudiotrack-pos"><span class="name"><a href="#iOS-skwmediastream-setenableaudiotrack-pos">pos</a><span class="tag type NSUInteger">NSUInteger</span></span><p class="description">The index of the AudioTrack. AudioTrack indexes are 0 or greater.</p></div><div class="child " id="iOS-skwmediastream-setenableaudiotrack-enable"><span class="name"><a href="#iOS-skwmediastream-setenableaudiotrack-enable">enable</a><span class="tag type BOOL">BOOL</span></span><p class="description">Play if <code>YES</code>, stop if <code>NO</code>.</p></div></div></div><div class="child " id="iOS-skwmediastream-getenableaudiotrack"><span class="name"><a href="#iOS-skwmediastream-getenableaudiotrack">getEnableAudioTrack</a><span class="tag type METHOD">METHOD</span><span class="snippet">BOOL enable = [stream getEnableAudioTrack:pos];</span></span><p class="description">Get audio track play state.</p><div class="children"><div class="child " id="iOS-skwmediastream-getenableaudiotrack-pos"><span class="name"><a href="#iOS-skwmediastream-getenableaudiotrack-pos">pos</a><span class="tag type NSUInteger">NSUInteger</span></span><p class="description">The index of the AudioTrack. AudioTrack indexes are 0 or greater.</p></div></div></div></div></div><div class="toplevel " id="iOS-skwvideo"><span class="name"><a href="#iOS-skwvideo">SKWVideo</a><span class="tag type OBJECT">OBJECT</span><span class="snippet">SKWVideo* video = [[SKWVideo alloc] initWithFrame:(CGRect)rect];</span></span><p class="description">The object to display the video.</p><div class="children"><div class="child " id="iOS-skwvideo-addsrc"><span class="name"><a href="#iOS-skwvideo-addsrc">addSrc</a><span class="tag type METHOD">METHOD</span><span class="snippet">[video addSrc:stream track:trackNo];</span></span><p class="description">Add mediastream and Track No, as a media source to the SKWVideo object.</p><div class="children"><div class="child " id="iOS-skwvideo-addsrc-stream"><span class="name"><a href="#iOS-skwvideo-addsrc-stream">stream</a><span class="tag type <a href='#iOS-skwmediastream'>SKWMediaStream</a>"><a href='#iOS-skwmediastream'>SKWMediaStream</a></span></span><p class="description">mediastream to add.</p></div><div class="child " id="iOS-skwvideo-addsrc-trackno"><span class="name"><a href="#iOS-skwvideo-addsrc-trackno">trackNo</a><span class="tag type NSUInteger">NSUInteger</span></span><p class="description">The index of the VideoTrack. VideoTrack indexes are 0 or greater.</p></div></div></div><div class="child " id="iOS-skwvideo-removesrc"><span class="name"><a href="#iOS-skwvideo-removesrc">removeSrc</a><span class="tag type METHOD">METHOD</span><span class="snippet">[video removeSrc:stream track:trackNo];</span></span><p class="description">Remove mediastream and Track No, as a media source from the SKWVideo object.</p><div class="children"><div class="child " id="iOS-skwvideo-removesrc-stream"><span class="name"><a href="#iOS-skwvideo-removesrc-stream">stream</a><span class="tag type <a href='#iOS-skwmediastream'>SKWMediaStream</a>"><a href='#iOS-skwmediastream'>SKWMediaStream</a></span></span><p class="description">mediastream to remove.</p></div><div class="child " id="iOS-skwvideo-removesrc-trackno"><span class="name"><a href="#iOS-skwvideo-removesrc-trackno">trackNo</a><span class="tag type NSUInteger">NSUInteger</span></span><p class="description">The index of the VideoTrack. VideoTrack indexes are 0 or greater.</p></div></div></div><div class="child " id="iOS-skwvideo-setdidchangevideosizecallback"><span class="name"><a href="#iOS-skwvideo-setdidchangevideosizecallback">setDidChangeVideoSizeCallback</a><span class="tag type METHOD">METHOD</span><span class="snippet">[video setDidChangeVideoSizeCallback:^(CGSize size)callback</span></span><p class="description">Callback called when video size changes.</p><div class="children"><div class="child " id="iOS-skwvideo-setdidchangevideosizecallback-callback"><span class="name"><a href="#iOS-skwvideo-setdidchangevideosizecallback-callback">callback</a></span><p class="description">Specifies the Block to call when the event is triggered.</p></div></div></div></div></div><div class="toplevel " id="iOS-skwnavigator"><span class="name"><a href="#iOS-skwnavigator">SKWNavigator</a><span class="tag type CLASS">CLASS</span></span><p class="description">Class to get Video.</p><div class="children"><div class="child " id="iOS-skwnavigator-initialize"><span class="name"><a href="#iOS-skwnavigator-initialize">initialize</a><span class="tag type METHOD">METHOD</span><span class="snippet">[SKWNavigator initialize:peer];</span></span><p class="description">Initialize Navigator</p><div class="children"><div class="child " id="iOS-skwnavigator-initialize-peer"><span class="name"><a href="#iOS-skwnavigator-initialize-peer">peer</a><span class="tag type <a href='#iOS-skwpeer'>SKWPeer</a>"><a href='#iOS-skwpeer'>SKWPeer</a></span></span><p class="description">Initialized SKWPeer object</p></div></div></div><div class="child " id="iOS-skwnavigator-terminate"><span class="name"><a href="#iOS-skwnavigator-terminate">terminate</a><span class="tag type METHOD">METHOD</span><span class="snippet">[SKWNavigator terminate];</span></span><p class="description">Terminate navigator</p></div><div class="child " id="iOS-skwnavigator-getusermedia"><span class="name"><a href="#iOS-skwnavigator-getusermedia">getUserMedia</a><span class="tag type METHOD">METHOD</span><span class="snippet">SKWMediaStream* stream = [SKWNavigator getUserMedia:constraints];</span></span><p class="description">Get Local Media Stream.</p><div class="children"><div class="child " id="iOS-skwnavigator-getusermedia-constraints"><span class="name"><a href="#iOS-skwnavigator-getusermedia-constraints">constraints</a><span class="tag type <a href='#iOS-skwmediaconstraints'>SKWMediaConstraints</a>"><a href='#iOS-skwmediaconstraints'>SKWMediaConstraints</a></span></span><p class="description">Media Stream setting</p></div></div></div></div></div><div class="toplevel " id="iOS-skwmediaconstraints"><span class="name"><a href="#iOS-skwmediaconstraints">SKWMediaConstraints</a><span class="tag type CLASS">CLASS</span></span><p class="description">Options for the <a href='#iOS-skwnavigator'>SKWNavigator</a>.getUserMedia.</p><div class="children"><div class="child " id="iOS-skwmediaconstraints-videoflag"><span class="name"><a href="#iOS-skwmediaconstraints-videoflag">videoFlag</a><span class="tag type BOOL">BOOL</span></span><p class="description">Set the video. <code>YES</code> enable the video, <code>NO</code> disable the video. Defaults to <code>YES</code>.</p></div><div class="child " id="iOS-skwmediaconstraints-audioflag"><span class="name"><a href="#iOS-skwmediaconstraints-audioflag">audioFlag</a><span class="tag type BOOL">BOOL</span></span><p class="description">Sets the audio. <code>YES</code> enable the audio, <code>NO</code> disable the audio. Defaults to <code>YES</code>.</p></div><div class="child " id="iOS-skwmediaconstraints-cameraposition"><span class="name"><a href="#iOS-skwmediaconstraints-cameraposition">cameraPosition</a><span class="tag type SKWCameraPositionEnum">SKWCameraPositionEnum</span></span><p class="description">Set camera. Defaults to SKW_CAMERA_POSITION_FRONT.</p><div class="children"><div class="child " id="iOS-skwmediaconstraints-cameraposition-skw_camera_position_unspecified"><span class="name"><a href="#iOS-skwmediaconstraints-cameraposition-skw_camera_position_unspecified">SKW_CAMERA_POSITION_UNSPECIFIED</a></span><p class="description">Use camera found first.The order depends on system.</p></div><div class="child " id="iOS-skwmediaconstraints-cameraposition-skw_camera_position_back"><span class="name"><a href="#iOS-skwmediaconstraints-cameraposition-skw_camera_position_back">SKW_CAMERA_POSITION_BACK</a></span><p class="description">Use camera outside. If it's not found, use camera found first.</p></div><div class="child " id="iOS-skwmediaconstraints-cameraposition-skw_camera_position_front"><span class="name"><a href="#iOS-skwmediaconstraints-cameraposition-skw_camera_position_front">SKW_CAMERA_POSITION_FRONT</a></span><p class="description">Use camera inside. If it's not found, use camera found first.</p></div></div></div><div class="child " id="iOS-skwmediaconstraints-maxwidth"><span class="name"><a href="#iOS-skwmediaconstraints-maxwidth">maxWidth</a><span class="tag type NSUInteger">NSUInteger</span></span><p class="description">Set the width pixel maximum limit. If you set <code>0</code>, it depends on WebRTC engine. Defaults to <code>640</code>.</p></div><div class="child " id="iOS-skwmediaconstraints-minwidth"><span class="name"><a href="#iOS-skwmediaconstraints-minwidth">minWidth</a><span class="tag type NSUInteger">NSUInteger</span></span><p class="description">Set the width pixel minimum limit. If you set <code>0</code>, it depends on WebRTC engine. Defaults to <code>0</code>.</p></div><div class="child " id="iOS-skwmediaconstraints-maxheight"><span class="name"><a href="#iOS-skwmediaconstraints-maxheight">maxHeight</a><span class="tag type NSUInteger">NSUInteger</span></span><p class="description">Set the height pixel maximum limit. If you set <code>0</code>, it depends on WebRTC engine. Defaults to <code>640</code>.</p></div><div class="child " id="iOS-skwmediaconstraints-minheight"><span class="name"><a href="#iOS-skwmediaconstraints-minheight">minHeight</a><span class="tag type NSUInteger">NSUInteger</span></span><p class="description">Set the height pixel minimum limit. If you set <code>0</code>, it depends on WebRTC engine. Defaults to <code>0</code>.</p></div><div class="child " id="iOS-skwmediaconstraints-maxframerate"><span class="name"><a href="#iOS-skwmediaconstraints-maxframerate">maxFrameRate</a><span class="tag type NSUInteger">NSUInteger</span></span><p class="description">Set the frame rate maximum limit. If you set <code>0</code>, it depends on WebRTC engine. Defaults to <code>10</code>.</p></div><div class="child " id="iOS-skwmediaconstraints-minframerate"><span class="name"><a href="#iOS-skwmediaconstraints-minframerate">minFrameRate</a><span class="tag type NSUInteger">NSUInteger</span></span><p class="description">Set the frame rate minimum limit. If you set <code>0</code>, it depends on WebRTC engine. Defaults to <code>0</code>.</p></div></div></div>
</section>
</div>
<div id="Android">
<section class="start">
    <h1><a href="/skyway/">SkyWay Android SDK</a> <span class="title">docs</span></h1>
    <p><br>SkyWay simplifies peer-to-peer data, video, and audio calls using WebRTC."SkyWay Android SDK" is a framework that enables using SkyWay in Android apps.This guide will show you the basic concepts of the SkyWay Android SDK. If
      you learn better from seeing a working app,<a href="https://github.com/nttcom/SkyWay-Android-Sample">see the examples</a></P>
    <h2>Setup</h2>
    <h3>1. Add required settings</h3>
    <p>Add the following settings to your manifest file.</p>
    <pre>&lt;uses-feature android:name="android.hardware.camera" /&gt;
&lt;uses-feature android:name="android.hardware.camera.autofocus" /&gt;
&lt;uses-feature android:glEsVersion="0x00020000" android:required="true" /&gt;

&lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /&gt;
&lt;uses-permission android:name="android.permission.ACCESS_WIFI_STATE" /&gt;
&lt;uses-permission android:name="android.permission.INTERNET" /&gt;
&lt;uses-permission android:name="android.permission.CAMERA" /&gt;
&lt;uses-permission android:name="android.permission.RECORD_AUDIO" /&gt;
&lt;uses-permission android:name="android.permission.MODIFY_AUDIO_SETTINGS" /&gt;
</pre>
    <h3>2. Import SkyWay Android SDK</h3>
    <p>Add SkyWay.aar to your application and import class files.</p>
    <pre>#import &lt;io.skyway.Peer.*&gt;</pre>
    <h3>3. Create the Peer object</h3>
    <p>The Peer object is where we create and receive connections.</p>
    <pre>PeerOption options = new PeerOption();
options.key = "{APIKEY}";
options.domain = "{DOMAIN}";
Peer peer = new Peer(options);</pre>
    <p>You can <a
            href="http://nttcom.github.io/skyway/registration.html">sign up for your own free key</a>. You will need to register a domain when you sign up for an API key. You will only be able to use the API key from the registered domains.</p>

    <p>You can also <a href="http://github.com/peers/peerjs-server">run your own PeerServer</a> for session metadata and candidate signaling, if you don't like the cloud.</p>
    <p>We're now ready to start making connections!</p>

    <h2>Usage</h2>
    <p>Every Peer object is assigned a random, unique ID when it's created.</p>
      <pre>peer.on(Peer.PeerEventEnum.OPEN, new OnCallback(){
  　public void onCallback(Object object){
    　if (object instanceof String){
      　string id = (String) object;
    　}
  　}
　});</pre>
    <p>When we want to connect to another peer, we'll need to know their peer id.
        Peerクラスの<a href="#Android-peer-listallpeers">listAllPeers</a> method of the SKWPeer class to get the remote PeerId or communicate PeerIds out of bound through some other method. Optionally, you can pass in your own IDs to the <a href="#Android-peer">Peer constructor</a>.

    <p>Read the <a href="#Android-peer">Peer API reference</a> for complete
      information on its <a href="#Android-peeroption">options</a>, methods, <a href="#Android-peer-on">events</a>, and <a
        href="#Android-peer-on-event-error">error handling</a>.</p>

    <h3>Data connections</h3>
    <p>Start a data connection by calling <code>connect(peerId)</code> with the peer ID of the destination peer. Anytime another peer attempts to connect to your peer
      ID, you'll receive a <code>PeerEventEnum.CONNECTION</code> event. </p>
    <div class="pre-title">Start connection</div>
    <pre>DataConnection dataConnection = peer.connect('dest-peer-id');</pre>
    <div class="pre-title">Receive connection</div>
    <pre>peer.on(Peer.PeerEventEnum.CONNECTION,new OnCallback(){
 public void onCallback(Object object){ ... }
 });</pre>
    <p>Peer <code>connect(peerId)</code> and the callback of the
      <code>PeerEventEnum.CONNECTION</code> event will both provide a
      <code>DataConnection</code> object. This object will allow you to send and receive data:</p>
      <pre>dataConnection.on(DataEventEnum.DATA,new OnCallback(){
  public void onCallback(Object object){
    // Receive String messages
    String strValue = null;
    if (object instanceof String){
      strValue = (String)object;
    }
  }
});

// Send messages
Bool bResult = dataConnection.send("Hello SkyWay!");
if(NO == bResult){
  // Failed
}else{
  // Succeeded
}

</pre>

    <p>Read the <a href="#Android-dataconnection">DataConnection API reference</a> for complete details on its methods and events.</p>
    <h3>Video/audio calls</h3>
    <p>Call another peer by calling <code>call(peerId)</code> with the peer ID of the destination peer. When a peer calls you, the <code>PeerEventEnum.CALL</code> event is emitted.</p>
    <p>Unlike data connections, when receiving a <code>PeerEventEnum.CALL</code> event, the call must be answered or no connection is established.</p>
    <div class="pre-title">Start call</div>
    <pre>MediaConnection mediaConnection = peer.call('dest-peer-id',mediaStream);</pre>
    <div class="pre-title">Answer call</div>
    <pre>peer.on(Peer.PeerEventEnum.CALL,new OnCallback(){
  public void onCallback(Object object){
    mesiaConnection.answer(mesiastream);
  }
});</pre>
    <p>When calling or answering a call, a MediaStream should be provided.
        MediaStream represents the local video (webcam) or audio stream and can be
      obtained Navigator <a href="#Android-navigator-getusermedia"><code>getUserMedia</code></a> method. When answering a call, the MediaStream is optional and if none is provided then a one-way call is established. Once the call is established, its <code>isOpen</code> property is set to true.</p>

    <p>Peer <code>call(peerId)</code> and the callback of the <code>PeerEventEnum.CALL</code> event provide a MediaConnection object. The MediaConnection object itself emits a <code>MediaEventEnum.STREAM</code> event whose callback includes the video/audio stream of the other peer.</p>
      <pre>mediaConnection.on(event, new OnCallback(){
        puclic void onCallback(Object object){
  // `stream` is the MediaStream of the remote peer.
  // Here you'd add it to Canvas.
        }
      });</pre>
    <p>Read the <a href="#Android-mediaconnection">MediaConnection API reference</a> for complete details on its methods and events.</p>

    <h2>SkyWay RestAPI</h2>
    <h3>listAllPeers</h3>
    <p>Gets a list of active PeerID's connecting with the API key.<p>
      <pre>peer.listAllPeers(new OnCallback(){
  public void onCallback(Object object){
    if (!(object instanceof JSONArray)){
      return;
    }
    JSONArray peers = (JSONArray) object;
  }
});
</pre>

    <p>The SkyWay Rest API can only be accessed from the domain registered with the API key.</p>

    <h2>FAQ</h2>

    <h3>What kind of data can I send?</h3>

    <p>When <a href="#Android-connectoption-serialization">serialization</a> is set to binary or binary-utf8, <a href="https://github.com/msgpack/msgpack-java">MessagePack</a> serialization format is used. You can use Byte, Short, Integer, Long, Float, Double, byte[], String, ByteBuffer, List, Map. It is not possible for a Map or List to contain another Map or List.</p>
          <pre>
HashMap< String, String > map = new HashMap<>();
for (int i = 0 ; 5 > i ; i++){
    String strKey = String.format("%d", i);
    String strValue = String.format("Value:%d", i);
    map.put(strKey, strValue);
  }
Boolean bResult = _data.send(map);</pre>
<p>Depending on the value of serialization, the data that can be sent between each of the platforms (JavaScript, iOS, and Android) changes. See <a href='http://nttcom.github.io/skyway/docs/serialization.md'>this chart</a> for details.</p>

    <h3>Are there any caveats?</h3>

    <p>A small percentage of users are behind symmetric NATs. When two symmetric NAT users try to connect to each other, NAT traversal is impossible and no connection can be made. A workaround is to proxy through the connection through a TURN server. You'll have to find your own. If you wish to use SkyWay's TURN server, you can apply <a href='https://skyway.io/ds/turnrequest' target='_blank'>here</a>. You can pass a TURN server into the <code>Peer</code> object options. This will allow your PeerJS app to work seamlessly for this situation.</p>
    <h3>How do I use a TURN server?</h3>
    <p>When creating your Peer object, pass in the ICE servers as the config key of the options hash.</p>
<pre>
PeerOption options = new PeerOption();

// Sample servers, please use appropriate ones
IceConfig configTurn = new IceConfig();
configTurn.url = "turn:homeo@turn.bistri.com:80";
configTurn.credential = "homeo";
options.config = {configStun,configTurn};

Peer peer = new Peer(options);
</pre>
    <p>This option doesn't need to be set if you're using SkyWay's TURN server.</p>

         <h3>What if my peer has not yet connected to the server when I attempt
          to connect to it?</h3>

          <p>When you try to connect to a peer, PeerServer will hold a
          connection offer for up to 5 seconds before rejecting it. This is useful if you want to reconnect to a peer as it disconnects and reconnects rapidly between web pages.</p>

        <h3>Why am I unable to connect?</h3>
          <p>You could be behind a symmetric NAT, in which case you'll need to set up a TURN server.</p>

        <h3>What about latency/bandwidth?</h3>

          <p>Data sent between the two peers do not touch any other servers except for use of turn server, so the connection speed is limited only by the upload and download rates of the two peers. This also means you don't have the additional latency of an intermediary server.</p>
          <p>The latency to establish a connection can be split into two
          components:
          the brokering of data and the identification of clients. PeerJS has been
          designed to minimize the time you spend in these two areas. For
          brokering, data is sent through an XHR streaming request before a WebSocket
          connection is established, then through WebSockets. For client
          identification, we provide you the ability to pass in your own peer
          IDs, thus eliminating the RTT for retrieving an ID from the server.</p>

    <h3>Supported OS</h3>
    <p>Android 4.0.3+</p>

    <h3>Supported devices</h3>
    <p>Nexus 5 2013、Nexus 6 2015、Xperia Z1 2013、ZenPhone 2014、Galaxy S5</p>

    <h3>More questions?</h3>
    <p><a href="https://groups.google.com/forum/#!forum/skywayjs">Discuss SkyWay on SkyWay Technical Forum Google Group.</a></p>
    <h3>Disclaimer</h3>
    <p>This document is based on <a href="http://peerjs.com/docs/">http://peerjs.com/docs/</a> and provides additional information necessary to use NTT Communication's SkyWay service. We cannot respond to inquiries regarding the original document.<br><br></p>

</section>

<header class="left">
    <h2>API Reference<a class="hide icon">&laquo;</a><a class="show icon">&raquo;</a></h2>
</header>
<header class="right">
    <h2>Getting Started</h2>
</header>

<section class="api">
    <div class="toplevel " id="Android-peer"><span class="name"><a href="#Android-peer">Peer</a><span class="tag type CLASS">CLASS</span><span class="snippet">Peer peer = new Peer(getApplicationContext(),peerId,options);<br>Peer peer = new Peer(getApplicationContext(),options);</span></span><p class="description">A peer can connect to other peers and listen for connections.</p><div class="children"><div class="child " id="Android-peer-peerid"><span class="name"><a href="#Android-peer-peerid"><span class="optional"><span class="bracket">[</span>peerId<span class="bracket">]</span></span></a><span class="tag type String">String</span></span><p class="description">Other peers can connect to this peer using the provided ID. If no ID is given, one will be generated by the brokering server.<span class='warn'>It's not recommended that you use this ID to identify peers, as it's meant to be used for brokering connections only. You're recommended to set the<a href='#Android-connectoption-metadata'><code>metadata</code></a> option to send other identifying information.</span></p></div><div class="child " id="Android-peer-options"><span class="name"><a href="#Android-peer-options">options</a><span class="tag type <a href='#Android-peeroption'>PeerOption</a>"><a href='#Android-peeroption'>PeerOption</a></span></span><p class="description">The options object. </p></div><div class="child " id="Android-peer-connect"><span class="name"><a href="#Android-peer-connect">connect</a><span class="tag type METHOD">METHOD</span><span class="snippet">DataConnection dataConnection = peer.connect(peerId);<br>DataConnection dataConnection = peer.connect(peerId,options);</span></span><p class="description">Connects to the remote peer specified by <code>id</code> and returns a DataConnection. Be sure to listen on the <a href='#Android-peer-on-event-error'><code>error</code></a> event in case the connection fails.</p><div class="children"><div class="child " id="Android-peer-connect-peerid"><span class="name"><a href="#Android-peer-connect-peerid">peerId</a><span class="tag type String">String</span></span><p class="description">The brokering ID of the remote peer (their<a href='#Android-peer-identity'><code>identity</code></a>)</p></div><div class="child " id="Android-peer-connect-options"><span class="name"><a href="#Android-peer-connect-options"><span class="optional"><span class="bracket">[</span>options<span class="bracket">]</span></span></a><span class="tag type <a href='#Android-connectoption'>ConnectOption</a>"><a href='#Android-connectoption'>ConnectOption</a></span></span><p class="description">The options object.</p></div></div></div><div class="child " id="Android-peer-call"><span class="name"><a href="#Android-peer-call">call</a><span class="tag type METHOD">METHOD</span><span class="snippet">MediaConnection mediaConnection = peer.call(peerId,stream);<br>MediaConnection mediaConnection = peer.call(peerId,stream,option);</span></span><p class="description">Calls the remote peer specified by <code>id</code> and returns a MediaConnection.Be sure to listen on the <a href='#Android-peer-on-event-error'><code>error</code></a> event in case the connection fails.</p><div class="children"><div class="child " id="Android-peer-call-peerid"><span class="name"><a href="#Android-peer-call-peerid">peerId</a><span class="tag type String">String</span></span><p class="description">The brokering ID of the remote peer (their<a href='#Android-peer-identity'><code>identity</code></a>)</p></div><div class="child " id="Android-peer-call-stream"><span class="name"><a href="#Android-peer-call-stream">stream</a><span class="tag type <a href='#Android-mediastream'>MediaStream</a>"><a href='#Android-mediastream'>MediaStream</a></span></span><p class="description">The caller's media stream</p></div><div class="child " id="Android-peer-call-option"><span class="name"><a href="#Android-peer-call-option"><span class="optional"><span class="bracket">[</span>option<span class="bracket">]</span></span></a><span class="tag type <a href='#Android-calloption'>CallOption</a>"><a href='#Android-calloption'>CallOption</a></span></span><p class="description">The options object.</p></div></div></div><div class="child " id="Android-peer-on"><span class="name"><a href="#Android-peer-on">on</a><span class="tag type METHOD">METHOD</span><span class="snippet">peer.on(event,callback);</span></span><p class="description">Set listeners for PeerEvent.</p><div class="children"><div class="child " id="Android-peer-on-event"><span class="name"><a href="#Android-peer-on-event">event</a><span class="tag type PeerEventEnum">PeerEventEnum</span></span><p class="description">Specifies the event type.</p><div class="children"><div class="child " id="Android-peer-on-event-open"><span class="name"><a href="#Android-peer-on-event-open">OPEN</a><span class="snippet">peer.on(Peer.PeerEventEnum.OPEN,new OnCallback(){public void onCallback(Object ownId){...}});</span></span><p class="description">Emitted when a connection to the PeerServer is established. You may use the peer before this is emitted, but messages to the server will be queued.<code>ownId</code> is the brokering ID of the peer (which was either provided in the Peer constructor or assigned by the server).<span class='tip'>You should not wait for this event before connecting to other peers if connection speed is important.</span> </p></div><div class="child " id="Android-peer-on-event-connection"><span class="name"><a href="#Android-peer-on-event-connection">CONNECTION</a><span class="snippet">peer.on(Peer.PeerEventEnum.CONNECTION,new OnCallback(){public void onCallback(Object object){...}});</span></span><p class="description">Emitted when a new data connection is established from a remote peer. The callback function parameter is a DataConnection object.</p></div><div class="child " id="Android-peer-on-event-call"><span class="name"><a href="#Android-peer-on-event-call">CALL</a><span class="snippet">peer.on(Peer.PeerEventEnum.CALL,new OnCallback(){public void onCallback(Object object){...}});</span></span><p class="description">Emitted when a remote peer attempts to call you. The callback function parameter is a MediaConnection object. <code>mediaConnection</code> is not yet active; you must first answer the call (<a href='#Android-mediaconnection-answer'><code>mediaConnection.answer(stream);</code></a>). Then, you can listen for the stream event.</p></div><div class="child " id="Android-peer-on-event-close"><span class="name"><a href="#Android-peer-on-event-close">CLOSE</a><span class="snippet">peer.on(Peer.PeerEventEnum.CLOSE,new OnCallback(){public void onCallback(Object object){...}});</span></span><p class="description">Emitted when the peer is<a href='#Android-peer-isdestroyed'>destroyed</a> and can no longer accept or create any new connections. At this time, the peer's connections will all be closed.<span class='tip'>To be extra certain that peers clean up correctly, we recommend calling peer.destroy() on a peer when it is no longer needed.</span></p></div><div class="child " id="Android-peer-on-event-disconnected"><span class="name"><a href="#Android-peer-on-event-disconnected">DISCONNECTED</a><span class="snippet">peer.on(Peer.PeerEventEnum.DISCONNECTED,new OnCallback(){public void onCallback(Object object){...}});</span></span><p class="description">Emitted when the peer is<a href='#Android-peer-isdisconnected'>disconnected</a> from the signalling server.</p></div><div class="child " id="Android-peer-on-event-error"><span class="name"><a href="#Android-peer-on-event-error">ERROR</a><span class="snippet">peer.on(Peer.PeerEventEnum.ERROR,new OnCallback(){public void onCallback(Object object){...}});</span></span><p class="description">The callback function parameter is a <a href='#Android-peererror'>PeerError</a> object. Errors on the peer are almost always fatal and will destroy the peer. Errors from the underlying socket and PeerConnections are forwarded here.</p></div></div></div><div class="child " id="Android-peer-on-callback"><span class="name"><a href="#Android-peer-on-callback">callback</a></span><p class="description">Specifies the callback function to call when the event is triggered.</p></div></div></div><div class="child " id="Android-peer-disconnect"><span class="name"><a href="#Android-peer-disconnect">disconnect</a><span class="tag type METHOD">METHOD</span><span class="snippet">peer.disconnect();</span></span><p class="description">Close the connection to the server, leaving all existing data and media connections intact.<a href='#Android-peer-isdisconnected'><code>disconnected</code></a>will be set to <code>true</code>.<span class='warn'>This cannot be undone; the respective peer object will no longer be able to create or receive any connections and its ID will be forfeited on the (cloud) server.</span></p></div><div class="child " id="Android-peer-destroy"><span class="name"><a href="#Android-peer-destroy">destroy</a><span class="tag type METHOD">METHOD</span><span class="snippet">peer.destroy();</span></span><p class="description">Close the connection to the server and terminate all existing connections.<a href='#Android-peer-isdestroyed'><code>destroyed</code></a> will be set to <code>true</code>.<span class='warn'>This cannot be undone; the respective peer object will no longer be able to create or receive any connections and its ID will be forfeited on the (cloud) server. Also closes all data and media connections.</span></p></div><div class="child " id="Android-peer-listallpeers"><span class="name"><a href="#Android-peer-listallpeers">listAllPeers</a><span class="tag type METHOD">METHOD</span><span class="snippet">peer.listAllPeers(new OnCallback(){public void onCallback(Object object){...}});</span></span><p class="description">Get an JSONArray of PeerIDs of users connected with the same API key.</p></div><div class="child " id="Android-peer-identity"><span class="name"><a href="#Android-peer-identity">identity</a><span class="tag type String">String</span></span><p class="description">The brokering ID of this peer. If no ID was specified in<a href='#Android-peer'>Peer class</a>, this will be <code>undefined</code> until the<a href='#Android-peer-on-event-open'><code>open</code></a> event is emitted.</p></div><div class="child " id="Android-peer-connections"><span class="name"><a href="#Android-peer-connections">connections</a><span class="tag type Map">Map</span></span><p class="description">A hash of all connections associated with this peer, keyed by the remote peer's ID.<span class='tip'>We recommend keeping track of connections yourself rather than relying on this hash.</span></p></div><div class="child " id="Android-peer-isdisconnected"><span class="name"><a href="#Android-peer-isdisconnected">isDisconnected</a><span class="tag type Boolean">Boolean</span></span><p class="description"><code>false</code> if there is an active connection to the PeerServer.</p></div><div class="child " id="Android-peer-isdestroyed"><span class="name"><a href="#Android-peer-isdestroyed">isDestroyed</a><span class="tag type Boolean">Boolean</span></span><p class="description"><code>true</code> if this peer and all of its connections can no longer be used.</p></div></div></div><div class="toplevel " id="Android-peeroption"><span class="name"><a href="#Android-peeroption">PeerOption</a><span class="tag type CLASS">CLASS</span><span class="snippet">PeerOption options = new PeerOption();</span></span><p class="description">Specify connection settings.</p><div class="children"><div class="child " id="Android-peeroption-key"><span class="name"><a href="#Android-peeroption-key">key</a><span class="tag type String">String</span></span><p class="description">API key for the cloud PeerServer.</p></div><div class="child " id="Android-peeroption-domain"><span class="name"><a href="#Android-peeroption-domain">domain</a><span class="tag type String">String</span></span><p class="description">The domain registered with the API key on the SkyWay developer's dashboard.</p></div><div class="child " id="Android-peeroption-host"><span class="name"><a href="#Android-peeroption-host"><span class="optional"><span class="bracket">[</span>host<span class="bracket">]</span></span></a><span class="tag type String">String</span></span><p class="description">Server host. Defaults to <code>skyway.io</code>.</p></div><div class="child " id="Android-peeroption-port"><span class="name"><a href="#Android-peeroption-port"><span class="optional"><span class="bracket">[</span>port<span class="bracket">]</span></span></a><span class="tag type int">int</span></span><p class="description">Server port. Defaults to <code>443</code>.</p></div><div class="child " id="Android-peeroption-path"><span class="name"><a href="#Android-peeroption-path"><span class="optional"><span class="bracket">[</span>path<span class="bracket">]</span></span></a><span class="tag type String">String</span></span><p class="description">The path where your self-hosted PeerServer is running. Defaults to <code>'/'</code>.</p></div><div class="child " id="Android-peeroption-secure"><span class="name"><a href="#Android-peeroption-secure"><span class="optional"><span class="bracket">[</span>secure<span class="bracket">]</span></span></a><span class="tag type Boolean">Boolean</span></span><p class="description"><code>true</code> if you're using SSL. Defaults to <code>true</code> since skyway.io uses SSL.</p></div><div class="child " id="Android-peeroption-turn"><span class="name"><a href="#Android-peeroption-turn"><span class="optional"><span class="bracket">[</span>turn<span class="bracket">]</span></span></a><span class="tag type Boolean">Boolean</span></span><p class="description"><code>true</code> if you're using SkyWay's TURN server. Defaults to <code>false</code>. You must apply <a href='https://skyway.io/ds/turnrequest' target='_blank'>here</a> to use this feature.</p></div><div class="child " id="Android-peeroption-config"><span class="name"><a href="#Android-peeroption-config"><span class="optional"><span class="bracket">[</span>config<span class="bracket">]</span></span></a><span class="tag type ArrayList <IceConfig>">ArrayList <IceConfig></span></span><p class="description">Configuration <a href='#Android-iceconfig'><code>IceConfig</code></a> Array. .Defaults to { 'iceServers': [{ 'url': 'stun:stun.skyway.io:3478' }] }. It is not necessary to set iceServers if you're using SkyWay's TURN server.</p></div><div class="child " id="Android-peeroption-debug"><span class="name"><a href="#Android-peeroption-debug"><span class="optional"><span class="bracket">[</span>debug<span class="bracket">]</span></span></a><span class="tag type DebugLevelEnum">DebugLevelEnum</span></span><p class="description">Prints log messages depending on the debug level passed in. Defaults to <code>DEBUG_LEVEL_NO_LOGS</code>.</p><div class="children"><div class="child " id="Android-peeroption-debug-no_logs"><span class="name"><a href="#Android-peeroption-debug-no_logs">NO_LOGS</a></span><p class="description">Prints no logs.</p></div><div class="child " id="Android-peeroption-debug-only_error"><span class="name"><a href="#Android-peeroption-debug-only_error">ONLY_ERROR</a></span><p class="description">Prints only errors.</p></div><div class="child " id="Android-peeroption-debug-error_and_warning"><span class="name"><a href="#Android-peeroption-debug-error_and_warning">ERROR_AND_WARNING</a></span><p class="description">Prints errors and warnings.</p></div><div class="child " id="Android-peeroption-debug-all_logs"><span class="name"><a href="#Android-peeroption-debug-all_logs">ALL_LOGS</a></span><p class="description">Prints all logs.</p></div></div></div></div></div><div class="toplevel " id="Android-iceconfig"><span class="name"><a href="#Android-iceconfig">IceConfig</a><span class="tag type CLASS">CLASS</span><span class="snippet">IceConfig config = new IceConfig();</span></span><p class="description">Specify STUN/TURN server settings.</p><div class="children"><div class="child " id="Android-iceconfig-url"><span class="name"><a href="#Android-iceconfig-url">url</a><span class="tag type String">String</span></span><p class="description">The STUN/TURN server url.</p></div><div class="child " id="Android-iceconfig-username"><span class="name"><a href="#Android-iceconfig-username"><span class="optional"><span class="bracket">[</span>username<span class="bracket">]</span></span></a><span class="tag type String">String</span></span><p class="description">Use when a user name is required.</p></div><div class="child " id="Android-iceconfig-credential"><span class="name"><a href="#Android-iceconfig-credential"><span class="optional"><span class="bracket">[</span>credential<span class="bracket">]</span></span></a><span class="tag type String">String</span></span><p class="description">Use when a password is required.</p></div></div></div><div class="toplevel " id="Android-connectoption"><span class="name"><a href="#Android-connectoption">ConnectOption</a><span class="tag type CLASS">CLASS</span><span class="snippet">ConnectOption option = new ConnectOption();</span></span><p class="description">Specify options for connecting to peers.</p><div class="children"><div class="child " id="Android-connectoption-label"><span class="name"><a href="#Android-connectoption-label">label</a><span class="tag type String">String</span></span><p class="description">A unique label by which you want to identify this data connection. If left unspecified, a label will be generated at random. Can be accessed with dataConnection.<a href='#Android-connection-label'><code>label</code></a></p></div><div class="child " id="Android-connectoption-metadata"><span class="name"><a href="#Android-connectoption-metadata">metadata</a><span class="tag type String">String</span></span><p class="description">Metadata associated with the connection, passed in by whoever initiated the connection. Can be accessed withdataConnection.<a href='#Android-dataconnection-metadata'><code>metadata</code></a></p></div><div class="child " id="Android-connectoption-serialization"><span class="name"><a href="#Android-connectoption-serialization">serialization</a><span class="tag type DataConnection.SerializationEnum">DataConnection.SerializationEnum</span></span><p class="description">The data serialization format. Default is BINARY. This value changes what type of data can be sent using dataConnection.<a href='#Android-dataconnection-send'><code>send</code></a>. The value can be obtained from dataConnection.<a href='#Android-dataconnection-serialization'><code>serialization</code></a>.</p><div class="children"><div class="child " id="Android-connectoption-serialization-binary"><span class="name"><a href="#Android-connectoption-serialization-binary">BINARY</a></span><p class="description">Set serialization type:<code>binary</code></p></div><div class="child " id="Android-connectoption-serialization-binary_utf8"><span class="name"><a href="#Android-connectoption-serialization-binary_utf8">BINARY_UTF8</a></span><p class="description">Set serialization type:<code>binary-utf8</code></p></div><div class="child " id="Android-connectoption-serialization-json"><span class="name"><a href="#Android-connectoption-serialization-json">JSON</a></span><p class="description">Set serialization type:<code>json</code></p></div><div class="child " id="Android-connectoption-serialization-none"><span class="name"><a href="#Android-connectoption-serialization-none">NONE</a></span><p class="description">Set serialization type:<code>none</code></p></div></div></div><div class="child " id="Android-connectoption-reliable"><span class="name"><a href="#Android-connectoption-reliable">reliable</a><span class="tag type Boolean">Boolean</span></span><p class="description">Whether the underlying data channels should be reliable (e.g. for large file transfers) or not (e.g. for gaming or streaming). Defaults to <code>false</code></p></div></div></div><div class="toplevel " id="Android-calloption"><span class="name"><a href="#Android-calloption">CallOption</a><span class="tag type CLASS">CLASS</span><span class="snippet">CallOption option = new CallOption();</span></span><p class="description">Specify options for calling peers.</p><div class="children"><div class="child " id="Android-calloption-metadata"><span class="name"><a href="#Android-calloption-metadata">metadata</a><span class="tag type String">String</span></span><p class="description">Any type of metadata associated with the connection, passed in by whoever initiated the connection.</p></div></div></div><div class="toplevel " id="Android-peererror"><span class="name"><a href="#Android-peererror">PeerError</a><span class="tag type CLASS">CLASS</span></span><p class="description">Obtained when an ”error” event occurs. If the OS gives error info, it can be found in the error property.</p><div class="children"><div class="child " id="Android-peererror-type"><span class="name"><a href="#Android-peererror-type">type</a><span class="tag type PeerErrorEnum">PeerErrorEnum</span></span><p class="description">Enumerated error types.</p><div class="children"><div class="child fatal " id="Android-peererror-type-no_error"><span class="name"><a href="#Android-peererror-type-no_error">NO_ERROR</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">No error has occurred.</p></div><div class="child fatal " id="Android-peererror-type-browser_incompatible"><span class="name"><a href="#Android-peererror-type-browser_incompatible">BROWSER_INCOMPATIBLE</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">The client does not support some or all WebRTC features that you are trying to use.</p></div><div class="child fatal " id="Android-peererror-type-invalid_id"><span class="name"><a href="#Android-peererror-type-invalid_id">INVALID_ID</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">The ID passed into the Peer constructor contains illegal characters.</p></div><div class="child fatal " id="Android-peererror-type-invalid_key"><span class="name"><a href="#Android-peererror-type-invalid_key">INVALID_KEY</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">The API key passed into the Peer constructor contains illegal characters or is not in the system (cloud server only).</p></div><div class="child fatal " id="Android-peererror-type-unavailable_id"><span class="name"><a href="#Android-peererror-type-unavailable_id">UNAVAILABLE_ID</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">The ID passed into the Peer constructor is already taken.</p></div><div class="child fatal " id="Android-peererror-type-ssl_unavailable"><span class="name"><a href="#Android-peererror-type-ssl_unavailable">SSL_UNAVAILABLE</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">The server does not support SSL.</p></div><div class="child " id="Android-peererror-type-disconnected"><span class="name"><a href="#Android-peererror-type-disconnected">DISCONNECTED</a><span class="tag type Error">Error</span></span><p class="description">You've already disconnected this peer and can no longer make any new connections on it.</p></div><div class="child fatal " id="Android-peererror-type-server_error"><span class="name"><a href="#Android-peererror-type-server_error">SERVER_ERROR</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">Unable to reach the server.</p></div><div class="child fatal " id="Android-peererror-type-socket_error"><span class="name"><a href="#Android-peererror-type-socket_error">SOCKET_ERROR</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">An error from the underlying socket.</p></div><div class="child fatal " id="Android-peererror-type-socket_closed"><span class="name"><a href="#Android-peererror-type-socket_closed">SOCKET_CLOSED</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">The underlying socket closed unexpectedly.</p></div><div class="child fatal " id="Android-peererror-type-network"><span class="name"><a href="#Android-peererror-type-network">NETWORK</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">Network error between signalling server.</p></div><div class="child fatal " id="Android-peererror-type-peer_unavailable"><span class="name"><a href="#Android-peererror-type-peer_unavailable">PEER_UNAVAILABLE</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">The Peer is unavailable</p></div><div class="child fatal " id="Android-peererror-type-webrtc"><span class="name"><a href="#Android-peererror-type-webrtc">WEBRTC</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">Error about WebRTC.</p></div></div></div><div class="child " id="Android-peererror-message"><span class="name"><a href="#Android-peererror-message">message</a><span class="tag type String">String</span></span><p class="description">error message</p></div><div class="child " id="Android-peererror-exception"><span class="name"><a href="#Android-peererror-exception">exception</a><span class="tag type Exception">Exception</span></span><p class="description">Error information object from OS.</p></div></div></div><div class="toplevel " id="Android-dataconnection"><span class="name"><a href="#Android-dataconnection">DataConnection</a><span class="tag type CLASS">CLASS</span></span><p class="description">Wraps WebRTC's DataChannel. To get one, use Peer <a href='#Android-peer-connect'><code>connect</code></a> or listen for the <a href='#Android-peer-on-event-peer_event_connection'><code>CONNECTION</code></a> event.</p><div class="children"><div class="child " id="Android-dataconnection-send"><span class="name"><a href="#Android-dataconnection-send">send</a><span class="tag type METHOD">METHOD</span><span class="snippet">BOOL bResult = dataConnection.send(data);</span></span><p class="description">Sends data to the remote peer. The processing method changes depending on the <a href='#Android-dataconnection-serialization'><code>serialization</code></a> property. Depending on the value of serialization, the data that can be sent between each of the platforms (JavaScript, iOS, and Android) changes. See <a href='http://nttcom.github.io/skyway/docs/serialization.md'>this chart</a> for details.</p><div class="children"><div class="child " id="Android-dataconnection-send-data"><span class="name"><a href="#Android-dataconnection-send-data">data</a></span><p class="description">The data to send.</p></div></div></div><div class="child " id="Android-dataconnection-close"><span class="name"><a href="#Android-dataconnection-close">close</a><span class="tag type METHOD">METHOD</span><span class="snippet">dataConnection.close();</span></span><p class="description">Closes the data connection gracefully, cleaning up underlying DataChannels and PeerConnections.</p></div><div class="child " id="Android-dataconnection-on"><span class="name"><a href="#Android-dataconnection-on">on</a><span class="tag type METHOD">METHOD</span><span class="snippet">dataConnection.on(event,new OnCallback(){public void onCallback(Object object){}});</span></span><p class="description">Set event callback for DataConnection.</p><div class="children"><div class="child " id="Android-dataconnection-on-event"><span class="name"><a href="#Android-dataconnection-on-event">event</a><span class="tag type DataEventEnum">DataEventEnum</span></span><p class="description">Data connection event types.</p><div class="children"><div class="child " id="Android-dataconnection-on-event-data"><span class="name"><a href="#Android-dataconnection-on-event-data">DATA</a></span><p class="description">Emitted when data is received from the remote peer.</p></div><div class="child " id="Android-dataconnection-on-event-open"><span class="name"><a href="#Android-dataconnection-on-event-open">OPEN</a></span><p class="description">Emitted when the connection is established and ready-to-use.</p></div><div class="child " id="Android-dataconnection-on-event-close"><span class="name"><a href="#Android-dataconnection-on-event-close">CLOSE</a></span><p class="description">Emitted when either you or the remote peer closes the data connection.</p></div><div class="child " id="Android-dataconnection-on-event-error"><span class="name"><a href="#Android-dataconnection-on-event-error">ERROR</a></span><p class="description">The callback function parameter is a <a href='#Android-peererror'>PeerError</a> object.</p></div></div></div><div class="child " id="Android-dataconnection-on-callback"><span class="name"><a href="#Android-dataconnection-on-callback">callback</a></span><p class="description">Specifies the callback function to call when the event is triggered.</p></div></div></div><div class="child " id="Android-dataconnection-buffersize"><span class="name"><a href="#Android-dataconnection-buffersize">bufferSize</a><span class="tag type int">int</span></span><p class="description">The number of messages queued to be sent once the browser buffer is no longer full.</p></div><div class="child " id="Android-dataconnection-datachannel"><span class="name"><a href="#Android-dataconnection-datachannel">dataChannel</a><span class="tag type <a href='#Android-datachannel'>DataChannel</a>"><a href='#Android-datachannel'>DataChannel</a></span></span><p class="description">A reference to the DataChannel object associated with the connection.</p></div><div class="child " id="Android-dataconnection-label"><span class="name"><a href="#Android-dataconnection-label">label</a><span class="tag type String">String</span></span><p class="description">A unique label by which you want to identify this data connection. If left unspecified, a label will be generated at random.</p></div><div class="child " id="Android-dataconnection-metadata"><span class="name"><a href="#Android-dataconnection-metadata">metadata</a><span class="tag type String">String</span></span><p class="description">Any type of metadata associated with the connection, passed in by whoever initiated the connection.</p></div><div class="child " id="Android-dataconnection-isopen"><span class="name"><a href="#Android-dataconnection-isopen">isOpen</a><span class="tag type BOOL">BOOL</span></span><p class="description">Is <code>true</code> if the connection is open and ready for reading and writing.</p></div><div class="child " id="Android-dataconnection-peerconnection"><span class="name"><a href="#Android-dataconnection-peerconnection">peerConnection</a><span class="tag type PeerConnection">PeerConnection</span></span><p class="description">The PeerConnection object tied to the connection.</p></div><div class="child " id="Android-dataconnection-peer"><span class="name"><a href="#Android-dataconnection-peer">peer</a><span class="tag type String">String</span></span><p class="description">The ID of the peer on the other end of this connection.</p></div><div class="child " id="Android-dataconnection-reliable"><span class="name"><a href="#Android-dataconnection-reliable">reliable</a><span class="tag type boolean">boolean</span></span><p class="description">Whether the underlying data channels should be reliable. Is set when the connection is opened.</p></div><div class="child " id="Android-dataconnection-serialization"><span class="name"><a href="#Android-dataconnection-serialization">serialization</a><span class="tag type SerializationEnum">SerializationEnum</span></span><p class="description">The serialization format to use when sending data. Is set when the connection is opened.</p><div class="children"><div class="child " id="Android-dataconnection-serialization-binary"><span class="name"><a href="#Android-dataconnection-serialization-binary">BINARY</a></span><p class="description"><code>binary</code></p></div><div class="child " id="Android-dataconnection-serialization-binary_utf8"><span class="name"><a href="#Android-dataconnection-serialization-binary_utf8">BINARY_UTF8</a></span><p class="description"><code>binary-utf8</code></p></div><div class="child " id="Android-dataconnection-serialization-json"><span class="name"><a href="#Android-dataconnection-serialization-json">JSON</a></span><p class="description"><code>json</code></p></div><div class="child " id="Android-dataconnection-serialization-none"><span class="name"><a href="#Android-dataconnection-serialization-none">NONE</a></span><p class="description"><code>none</code></p></div></div></div><div class="child " id="Android-dataconnection-type"><span class="name"><a href="#Android-dataconnection-type">type</a><span class="tag type String">String</span></span><p class="description">For data connections, this is always <code>'data'</code>.</p></div></div></div><div class="toplevel " id="Android-mediaconnection"><span class="name"><a href="#Android-mediaconnection">MediaConnection</a><span class="tag type CLASS">CLASS</span></span><p class="description">Wraps WebRTC's media streams. Obtained from Peer.<a href='#Android-peer-call'><code>call</code></a> or the <a href='#Android-peer-on-event-call'><code>CALL</code></a> event.</p><div class="children"><div class="child " id="Android-mediaconnection-answer"><span class="name"><a href="#Android-mediaconnection-answer">answer</a><span class="tag type METHOD">METHOD</span><span class="snippet">mediaConnection.answer();<br>mediaConnection.answer(stream);</span></span><p class="description">Answer media connections obtained from a <a href='#Android-peer-on-event-peer_event_call'><code>call</code></a> event. You can set your own media stream as the parameter.</p><div class="children"><div class="child " id="Android-mediaconnection-answer-stream"><span class="name"><a href="#Android-mediaconnection-answer-stream"><span class="optional"><span class="bracket">[</span>stream<span class="bracket">]</span></span></a><span class="tag type <a href='#Android-mediastream'>MediaStream</a>"><a href='#Android-mediastream'>MediaStream</a></span></span><p class="description"><a href='#Android-mediastream'><code>MediaStream</code></a> obtained from Navigator.getUserMedia.</p></div></div></div><div class="child " id="Android-mediaconnection-close"><span class="name"><a href="#Android-mediaconnection-close">close</a><span class="tag type METHOD">METHOD</span><span class="snippet">media.close();</span></span><p class="description">Closes the media connection.</p></div><div class="child " id="Android-mediaconnection-on"><span class="name"><a href="#Android-mediaconnection-on">on</a><span class="tag type METHOD">METHOD</span><span class="snippet">media.on(event, new OnCallback(){puclic void onCallback(Object object){}});</span></span><p class="description">Set listeners for MediaEventEnum event.</p><div class="children"><div class="child " id="Android-mediaconnection-on-event"><span class="name"><a href="#Android-mediaconnection-on-event">event</a><span class="tag type MediaEventEnum">MediaEventEnum</span></span><p class="description">MediaConnection event types.</p><div class="children"><div class="child " id="Android-mediaconnection-on-event-stream"><span class="name"><a href="#Android-mediaconnection-on-event-stream">STREAM</a></span><p class="description">Emitted when a remote peer adds a <code>stream</code>.</p></div><div class="child " id="Android-mediaconnection-on-event-close"><span class="name"><a href="#Android-mediaconnection-on-event-close">CLOSE</a></span><p class="description">Emitted when either you or the remote peer closes the media connection.</p></div><div class="child " id="Android-mediaconnection-on-event-error"><span class="name"><a href="#Android-mediaconnection-on-event-error">ERROR</a></span><p class="description">The class of callback arguments is<a href='#Android-peererror'>PeerError</a>.</p></div></div></div><div class="child " id="Android-mediaconnection-on-callback"><span class="name"><a href="#Android-mediaconnection-on-callback">callback</a></span><p class="description">Specifies the callback function to call when the event is triggered.</p></div></div></div><div class="child " id="Android-mediaconnection-isopen"><span class="name"><a href="#Android-mediaconnection-isopen">isOpen</a><span class="tag type BOOL">BOOL</span></span><p class="description">Is <code>true</code> if the connection is open and ready for reading and writing.</p></div><div class="child " id="Android-mediaconnection-metadata"><span class="name"><a href="#Android-mediaconnection-metadata">metadata</a><span class="tag type String">String</span></span><p class="description">Any type of metadata associated with the connection, passed in by whoever initiated the connection.</p></div><div class="child " id="Android-mediaconnection-peer"><span class="name"><a href="#Android-mediaconnection-peer">peer</a><span class="tag type String">String</span></span><p class="description">The ID of the peer on the other end of this connection.</p></div><div class="child " id="Android-mediaconnection-type"><span class="name"><a href="#Android-mediaconnection-type">type</a><span class="tag type String">String</span></span><p class="description">For media connections, this is always <code>'media'</code>.</p></div></div></div><div class="toplevel " id="Android-mediastream"><span class="name"><a href="#Android-mediastream">MediaStream</a><span class="tag type CLASS">CLASS</span></span><div class="children"><div class="child " id="Android-mediastream-close"><span class="name"><a href="#Android-mediastream-close">close</a><span class="tag type METHOD">METHOD</span><span class="snippet">stream.close();</span></span><p class="description">close MediaStream.</p></div><div class="child " id="Android-mediastream-getvideotracks"><span class="name"><a href="#Android-mediastream-getvideotracks">getVideoTracks</a><span class="tag type METHOD">METHOD</span><span class="snippet">int videos = stream.getVideoTracks();</span></span><p class="description">Gets the number of VideoTracks added to the MediaStream.</p></div><div class="child " id="Android-mediastream-setenablevideotrack"><span class="name"><a href="#Android-mediastream-setenablevideotrack">setEnableVideoTrack</a><span class="tag type METHOD">METHOD</span><span class="snippet">stream.setEnableVideoTrack(pos,enable);</span></span><p class="description">Sets the play state of VideoTracks in a MediaStream.</p><div class="children"><div class="child " id="Android-mediastream-setenablevideotrack-pos"><span class="name"><a href="#Android-mediastream-setenablevideotrack-pos">pos</a><span class="tag type int">int</span></span><p class="description">The index of the VideoTrack. VideoTrack indexes are 0 or greater.</p></div><div class="child " id="Android-mediastream-setenablevideotrack-enable"><span class="name"><a href="#Android-mediastream-setenablevideotrack-enable">enable</a><span class="tag type Boolean">Boolean</span></span><p class="description">Play if <code>true</code>, stop <code>false</code>.</p></div></div></div><div class="child " id="Android-mediastream-getenablevideotrack"><span class="name"><a href="#Android-mediastream-getenablevideotrack">getEnableVideoTrack</a><span class="tag type METHOD">METHOD</span><span class="snippet">Boolean enable = stream.getEnableVideoTrack(pos);</span></span><p class="description">Gets the play state of the VideoTrack.</p><div class="children"><div class="child " id="Android-mediastream-getenablevideotrack-pos"><span class="name"><a href="#Android-mediastream-getenablevideotrack-pos">pos</a><span class="tag type int">int</span></span><p class="description">The index of the VideoTrack. VideoTrack indexes are 0 or greater.</p></div></div></div><div class="child " id="Android-mediastream-getaudiotracks"><span class="name"><a href="#Android-mediastream-getaudiotracks">getAudioTracks</a><span class="tag type METHOD">METHOD</span><span class="snippet">int audios = stream.getAudioTracks();</span></span><p class="description">The number of Audio tracks added to media stream.</p></div><div class="child " id="Android-mediastream-setenableaudiotrack"><span class="name"><a href="#Android-mediastream-setenableaudiotrack">setEnableAudioTrack</a><span class="tag type METHOD">METHOD</span><span class="snippet">stream.setEnableAudioTrack(pos,enable);</span></span><p class="description">Set the play state of audio track added to media stream.</p><div class="children"><div class="child " id="Android-mediastream-setenableaudiotrack-pos"><span class="name"><a href="#Android-mediastream-setenableaudiotrack-pos">pos</a><span class="tag type int">int</span></span><p class="description">The index of the AudioTrack. AudioTrack indexes are 0 or greater.</p></div><div class="child " id="Android-mediastream-setenableaudiotrack-enable"><span class="name"><a href="#Android-mediastream-setenableaudiotrack-enable">enable</a><span class="tag type Boolean">Boolean</span></span><p class="description">Play if <code>true</code>, stop <code>false</code>.</p></div></div></div><div class="child " id="Android-mediastream-getenableaudiotrack"><span class="name"><a href="#Android-mediastream-getenableaudiotrack">getEnableAudioTrack</a><span class="tag type METHOD">METHOD</span><span class="snippet">Boolean enable = stream.getEnableAudioTrack(pos);</span></span><p class="description">Get audio track play state.</p><div class="children"><div class="child " id="Android-mediastream-getenableaudiotrack-pos"><span class="name"><a href="#Android-mediastream-getenableaudiotrack-pos">pos</a><span class="tag type int">int</span></span><p class="description">The index of the AudioTrack. AudioTrack indexes are 0 or greater.</p></div></div></div></div></div><div class="toplevel " id="Android-canvas"><span class="name"><a href="#Android-canvas">Canvas</a><span class="tag type OBJECT">OBJECT</span><span class="snippet">Canvas canvas = (Canvas) findViewById(R.id.ownvideo);</span></span><p class="description">The object to display the video.</p><div class="children"><div class="child " id="Android-canvas-addsrc"><span class="name"><a href="#Android-canvas-addsrc">addSrc</a><span class="tag type METHOD">METHOD</span><span class="snippet">canvas.addSrc(stream,trackNo);</span></span><p class="description">Add mediastream and Track No, as a media source to the canvas.</p><div class="children"><div class="child " id="Android-canvas-addsrc-stream"><span class="name"><a href="#Android-canvas-addsrc-stream">stream</a><span class="tag type <a href='#Android-mediastream'>MediaStream</a>"><a href='#Android-mediastream'>MediaStream</a></span></span><p class="description">mediastream to add.</p></div><div class="child " id="Android-canvas-addsrc-trackno"><span class="name"><a href="#Android-canvas-addsrc-trackno">trackNo</a><span class="tag type int">int</span></span><p class="description">The index of the VideoTrack. VideoTrack indexes are 0 or greater.</p></div></div></div><div class="child " id="Android-canvas-removesrc"><span class="name"><a href="#Android-canvas-removesrc">removeSrc</a><span class="tag type METHOD">METHOD</span><span class="snippet">canvas.removeSrc(stream,trackNo);</span></span><p class="description">Remove mediastream and Track No, as a media source from the canvas.</p><div class="children"><div class="child " id="Android-canvas-removesrc-stream"><span class="name"><a href="#Android-canvas-removesrc-stream">stream</a><span class="tag type <a href='#Android-mediastream'>MediaStream</a>"><a href='#Android-mediastream'>MediaStream</a></span></span><p class="description">mediastream to remove.</p></div><div class="child " id="Android-canvas-removesrc-trackno"><span class="name"><a href="#Android-canvas-removesrc-trackno">trackNo</a><span class="tag type int">int</span></span><p class="description">The index of the VideoTrack. VideoTrack indexes are 0 or greater.</p></div></div></div></div></div><div class="toplevel " id="Android-navigator"><span class="name"><a href="#Android-navigator">Navigator</a><span class="tag type CLASS">CLASS</span></span><p class="description">Class to get Video.</p><div class="children"><div class="child " id="Android-navigator-initialize"><span class="name"><a href="#Android-navigator-initialize">initialize</a><span class="tag type METHOD">METHOD</span><span class="snippet">Navigator.initialize(peer);</span></span><p class="description">Initialize Navigator</p><div class="children"><div class="child " id="Android-navigator-initialize-peer"><span class="name"><a href="#Android-navigator-initialize-peer">peer</a><span class="tag type <a href='#Android-peer'>Peer</a>"><a href='#Android-peer'>Peer</a></span></span><p class="description">Initialized Peer object</p></div></div></div><div class="child " id="Android-navigator-terminate"><span class="name"><a href="#Android-navigator-terminate">terminate</a><span class="tag type METHOD">METHOD</span><span class="snippet">Navigator.terminate();</span></span><p class="description">Terminate navigator</p></div><div class="child " id="Android-navigator-getusermedia"><span class="name"><a href="#Android-navigator-getusermedia">getUserMedia</a><span class="tag type METHOD">METHOD</span><span class="snippet">MediaStream stream = Navigator.getUserMedia(constraints);</span></span><p class="description">Get Local Media Stream.</p><div class="children"><div class="child " id="Android-navigator-getusermedia-constraints"><span class="name"><a href="#Android-navigator-getusermedia-constraints">constraints</a><span class="tag type <a href='#Android-mediaconstraints'>MediaConstraints</a>"><a href='#Android-mediaconstraints'>MediaConstraints</a></span></span><p class="description">Media Stream setting</p></div></div></div></div></div><div class="toplevel " id="Android-mediaconstraints"><span class="name"><a href="#Android-mediaconstraints">MediaConstraints</a><span class="tag type CLASS">CLASS</span></span><p class="description">Options for the <a href='#Android-navigator'>Navigator</a>.getUserMedia function.</p><div class="children"><div class="child " id="Android-mediaconstraints-videoflag"><span class="name"><a href="#Android-mediaconstraints-videoflag">videoFlag</a><span class="tag type Boolean">Boolean</span></span><p class="description">Set the video. <code>true</code> enable the video, <code>false</code> disable the video. Defaults to <code>true</code>.</p></div><div class="child " id="Android-mediaconstraints-audioflag"><span class="name"><a href="#Android-mediaconstraints-audioflag">audioFlag</a><span class="tag type Boolean">Boolean</span></span><p class="description">Set the audio. <code>true</code> enable the audio, <code>false</code> disable the audio. Defaults to <code>true</code>.</p></div><div class="child " id="Android-mediaconstraints-cameraposition"><span class="name"><a href="#Android-mediaconstraints-cameraposition">cameraPosition</a><span class="tag type CameraPositionEnum">CameraPositionEnum</span></span><p class="description">Set camera. Defaults to FRONT.</p><div class="children"><div class="child " id="Android-mediaconstraints-cameraposition-unspecified"><span class="name"><a href="#Android-mediaconstraints-cameraposition-unspecified">UNSPECIFIED</a></span><p class="description">Use camera found first.The order depends on system.</p></div><div class="child " id="Android-mediaconstraints-cameraposition-back"><span class="name"><a href="#Android-mediaconstraints-cameraposition-back">BACK</a></span><p class="description">Use camera outside. If it's not found, use camera found first.</p></div><div class="child " id="Android-mediaconstraints-cameraposition-front"><span class="name"><a href="#Android-mediaconstraints-cameraposition-front">FRONT</a></span><p class="description">Use camera inside. If it's not found, use camera found first.</p></div></div></div><div class="child " id="Android-mediaconstraints-maxwidth"><span class="name"><a href="#Android-mediaconstraints-maxwidth">maxWidth</a><span class="tag type int">int</span></span><p class="description">Set the width pixel maximum limit. If you set <code>0</code>, it depends on WebRTC engine. Defaults to <code>640</code>.</p></div><div class="child " id="Android-mediaconstraints-minwidth"><span class="name"><a href="#Android-mediaconstraints-minwidth">minWidth</a><span class="tag type int">int</span></span><p class="description">Set the width pixel minimum limit. If you set <code>0</code>, it depends on WebRTC engine. Defaults to <code>0</code>.</p></div><div class="child " id="Android-mediaconstraints-maxheight"><span class="name"><a href="#Android-mediaconstraints-maxheight">maxHeight</a><span class="tag type int">int</span></span><p class="description">Set the height pixel maximum limit. If you set <code>0</code>, it depends on WebRTC engine. Defaults to <code>640</code>.</p></div><div class="child " id="Android-mediaconstraints-minheight"><span class="name"><a href="#Android-mediaconstraints-minheight">minHeight</a><span class="tag type int">int</span></span><p class="description">Set the height pixel minimum limit. If you set <code>0</code>, it depends on WebRTC engine. Defaults to <code>0</code>.</p></div><div class="child " id="Android-mediaconstraints-maxframerate"><span class="name"><a href="#Android-mediaconstraints-maxframerate">maxFrameRate</a><span class="tag type int">int</span></span><p class="description">Set the frame rate maximum limit. If you set <code>0</code>, it depends on WebRTC engine. Defaults to <code>10</code>.</p></div><div class="child " id="Android-mediaconstraints-minframerate"><span class="name"><a href="#Android-mediaconstraints-minframerate">minFrameRate</a><span class="tag type int">int</span></span><p class="description">Set the frame rate minimum limit. If you set <code>0</code>, it depends on WebRTC engine. Defaults to <code>0</code>.</p></div></div></div>
</section>
</div>
</div>
<script type="text/javascript">

$(window).load(function(){
  $('#tab-content > div').hide(); 
  $('#tab a').click(function () {
    $('#tab-content > div').hide().filter(this.hash).show(); //アンカー要素を表示
    
    $('#tab a').removeClass('active');
    $(this).addClass('active');
    
    return false; //いれてないとアンカーリンクになる
  }).filter(':eq(0)').click();
  var hash = window.location.hash;
  if(hash.match("#iOS-")){
  	$('#tab a[href="#iOS"]').trigger("click");
  	$('a[href="' + hash + '"]').trigger("click");
  }else if(hash.match("#Android-")){
	$('#tab a[href="#Android"]').trigger("click");
	$('a[href="' + hash + '"]').trigger("click");
  }else{
  	$('#tab a[href="' + hash + '"]').trigger("click");
  }
})

</script>
</body>
</html>